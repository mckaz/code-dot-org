webpackJsonp([49],{3409:function(e,t,n){n(151),n(152),e.exports=n(3410)},3410:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(35),c=a(l),s=n(738),p=n(1),d=a(p),f=n(32),m=a(f),y=n(1130),h=n(40),g=a(h);(0,c.default)(window).load(function(){function e(e){return"background-color: "+e}function t(e){var t=(0,c.default)(e),a=(0,c.default)("#"+t.attr("id")+"-button .ui-selectmenu-text");n(t.find("option:selected").attr("data-color")).prependTo(a)}function n(t){return(0,c.default)("<div>",{class:"color-square-icon",style:e(t)})}function a(e,t,n,a){var o=a.split("|"),r=o[0],i=o[1],u=o.slice(2),l=n.split("|");if(r!==e)return e.toLowerCase()===r.toLowerCase()?g.default.contractMatchBadNameCase():g.default.contractMatchBadName();if(i!==t)return g.default.contractMatchBadRange();if(u.length!==l.length)return g.default.contractMatchBadDomainSize();for(var c=0;c<u.length;c++){if(u[c]!==l[c])return g.default.contractMatchBadDomainType()}return""}var l;c.default.widget("custom.coloriconselectmenu",c.default.ui.selectmenu,{_renderItem:function(e,t){var a=(0,c.default)("<li>",{text:t.label});return n(t.element.attr("data-color")).appendTo(a),a.appendTo(e)},styleCurrentValue:function(){t(this.element)}});var f={NONE:"None",NUMBER:"Number",STRING:"String",IMAGE:"Image",BOOLEAN:"Boolean"},h=(l={},u(l,f.NUMBER,"#00ccff"),u(l,f.STRING,"#009999"),u(l,f.IMAGE,"#9900cc"),u(l,f.BOOLEAN,"#336600"),l),E=function(e){function t(){var n,a,i;o(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=a=r(this,e.call.apply(e,[this].concat(l))),a.nextUniqueID_=0,a.state={name:"",rangeType:f.NUMBER,domainTypes:[]},a.onNameChangeEvent=function(e){a.setState({name:e.target.value})},a.onRangeChange=function(e){a.setState({rangeType:e})},a.onDomainChange=function(e,t){a.setState({domainTypes:a.state.domainTypes.map(function(n){return n.key===e&&(n.type=t),n})})},a.onDomainAdd=function(){var e=a.grabUniqueID();a.setState({domainTypes:a.state.domainTypes.concat({key:"domain"+e,type:f.NUMBER,order:e})})},a.onDomainRemove=function(e){a.setState({domainTypes:a.state.domainTypes.filter(function(t){return t.key!==e})})},i=n,r(a,i)}return i(t,e),t.prototype.getName=function(){return this.state.name},t.prototype.getRangeType=function(){return this.state.rangeType},t.prototype.getDomainTypes=function(){return this.state.domainTypes},t.prototype.grabUniqueID=function(){return this.nextUniqueID_++},t.prototype.render=function(){return d.default.createElement("div",null,d.default.createElement("div",{id:"sectionTitle"},"Name"),d.default.createElement("div",null,d.default.createElement("input",{id:"functionNameText",onChange:this.onNameChangeEvent,placeholder:"Name",type:"text",value:this.state.name})),d.default.createElement("div",{id:"sectionTitle"},"Domain ",d.default.createElement("span",{className:"section-type-hint"},"(the domain is the type of input)")),d.default.createElement(T,{domainTypes:this.state.domainTypes,onDomainChange:this.onDomainChange,onDomainAdd:this.onDomainAdd,onDomainRemove:this.onDomainRemove}),d.default.createElement("div",{id:"sectionTitle",className:"clear"},"Range ",d.default.createElement("span",{className:"section-type-hint"},"(the range is the type of output)")),d.default.createElement(v,{type:this.state.rangeType,onTypeChange:this.onRangeChange}))},t}(d.default.Component),T=function(e){function t(){return o(this,t),r(this,e.apply(this,arguments))}return i(t,e),t.prototype.render=function(){var e=this,t=this.props.domainTypes.sort(function(e,t){return e.order>t.order}),n=t.map(function(t){return d.default.createElement("div",{className:"clear",key:t.key},d.default.createElement(v,{order:t.order,type:t.type,key:t.key,onTypeChange:function(){for(var n,a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=e.props).onDomainChange.apply(n,[t.key].concat(o))}}),d.default.createElement("button",{className:"btn domain-x-button",onClick:function(){for(var n,a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=e.props).onDomainRemove.apply(n,[t.key].concat(o))}},"Remove"))});return d.default.createElement("div",{className:"domainsList"},n,d.default.createElement("button",{className:"btn domain-add-button",onClick:this.props.onDomainAdd},"Add Domain"))},t}(d.default.Component);T.propTypes={domainTypes:p.PropTypes.array.isRequired,onDomainAdd:p.PropTypes.func.isRequired,onDomainChange:p.PropTypes.func.isRequired,onDomainRemove:p.PropTypes.func.isRequired};var v=function(e){function n(){var t,a,i;o(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return t=a=r(this,e.call.apply(e,[this].concat(l))),a.selectmenuChange=function(e){a.props.onTypeChange(e.target.value)},i=t,r(a,i)}return i(n,e),n.prototype.componentDidMount=function(){(0,c.default)(m.default.findDOMNode(this)).coloriconselectmenu({select:function(){t(this)},change:this.selectmenuChange}),(0,c.default)(m.default.findDOMNode(this)).coloriconselectmenu("styleCurrentValue")},n.prototype.componentWillUnmount=function(){(0,c.default)(m.default.findDOMNode(this)).coloriconselectmenu("destroy")},n.prototype.render=function(){var e={backgroundColor:h[this.props.type]};return d.default.createElement("select",{defaultValue:this.props.type,style:e},d.default.createElement("option",{"data-color":h[f.NUMBER],value:f.NUMBER},f.NUMBER),d.default.createElement("option",{"data-color":h[f.STRING],value:f.STRING},f.STRING),d.default.createElement("option",{"data-color":h[f.IMAGE],value:f.IMAGE},f.IMAGE),d.default.createElement("option",{"data-color":h[f.BOOLEAN],value:f.BOOLEAN},f.BOOLEAN))},n}(d.default.Component);v.propTypes={onTypeChange:p.PropTypes.func.isRequired,type:p.PropTypes.string};var N=m.default.render(d.default.createElement(E,null),document.getElementById("contractForm")),D=function(e,t){return function(){var n=e.getName().trim(),o=e.getRangeType(),r=e.getDomainTypes(),i=t.answers,u=r.map(function(e){return e.type}).join("|"),l=n+"|"+o+"|"+u,c=a.bind(null,n,o,u),s=i.map(c),p=s.some(function(e){return""===e}),f=void 0;return p||(f=d.default.createElement(y.ContractMatchErrorDialog,{text:s[0]})),{response:l,result:p,errorDialog:f}}}(N,window.levelData);(0,s.registerGetResult)(D)})}},[3409]);