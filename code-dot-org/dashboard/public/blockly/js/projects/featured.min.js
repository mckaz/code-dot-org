webpackJsonp([27],{2830:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageWithStatus=t.STATUS=void 0;var n=r(1),u=function(e){return e&&e.__esModule?e:{default:e}}(n),s=t.STATUS={LOADING:"loading",LOADED:"loaded",ERROR:"error"};(t.ImageWithStatus=function(e){function t(r){a(this,t);var l=o(this,e.call(this,r));return l.handleImageLoad=l.handleImageLoad.bind(l),l.handleImageError=l.handleImageError.bind(l),l.state={imageStatus:s.LOADING},l}return l(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.src!==e.src&&this.setState({imageStatus:s.LOADING})},t.prototype.handleImageLoad=function(){this.setState({imageStatus:s.LOADED})},t.prototype.handleImageError=function(){this.setState({imageStatus:s.ERROR})},t.prototype.render=function(){return u.default.createElement("div",{style:this.props.wrapperStyle},u.default.createElement("img",{src:this.props.src,width:this.props.width,height:this.props.height,onLoad:this.handleImageLoad,onError:this.handleImageError}),u.default.createElement("div",{"data-image-status":this.state.imageStatus}))},t}(n.Component)).propTypes={src:n.PropTypes.string.isRequired,width:n.PropTypes.number.isRequired,height:n.PropTypes.number,wrapperStyle:n.PropTypes.object}},3451:function(e,t,r){r(151),r(152),e.exports=r(3452)},3452:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=r(35),l=a(o),n=r(1),u=a(n),s=r(32),i=a(s),c=r(3453),p=a(c);(0,l.default)(document).ready(function(){var e=document.querySelector("script[data-featuredprojects]"),t=JSON.parse(e.dataset.featuredprojects),r=t.currently_featured_projects,a=t.archived_unfeatured_projects;i.default.render(u.default.createElement(p.default,{currentFeaturedProjects:r,archivedUnfeaturedProjects:a}),document.getElementById("featured-projects-container"))})},3453:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),s=a(u),i=r(3454),c=a(i),p=r(1148),d=function(e){function t(){return o(this,t),l(this,e.apply(this,arguments))}return n(t,e),t.prototype.render=function(){return s.default.createElement("div",null,s.default.createElement("h3",null,"Currently Featured Projects"),s.default.createElement(c.default,{projectList:this.props.currentFeaturedProjects,tableVersion:p.featuredProjectTableTypes.current}),s.default.createElement("h3",null,"Archive of Previously Featured Projects"),s.default.createElement(c.default,{projectList:this.props.archivedUnfeaturedProjects,tableVersion:p.featuredProjectTableTypes.archived}))},t}(s.default.Component);d.propTypes={currentFeaturedProjects:u.PropTypes.arrayOf(p.featuredProjectDataPropType).isRequired,archivedUnfeaturedProjects:u.PropTypes.arrayOf(p.featuredProjectDataPropType).isRequired},t.default=d,e.exports=t.default},3454:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=t.COLUMNS=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},i=r(1),c=a(i),p=r(40),d=a(p),f=r(44),y=a(f),h=r(2830),b=r(921),m=r(1129),g=a(m),S=r(1742),j=a(S),T=r(1148),_=r(1748),E=a(_),P=r(2089),w=r(1011),C=a(w),L=t.COLUMNS={THUMBNAIL:0,PROJECT_NAME:1,APP_TYPE:2,LAST_PUBLISHED:3,LAST_FEATURED:4,ACTIONS:5},O=t.styles={cellFirst:{borderWidth:"1px 0px 1px 1px",borderColor:y.default.border_light_gray},headerCellFirst:{borderWidth:"0px 0px 1px 0px",borderColor:y.default.border_light_gray},cellThumbnail:{width:65,minWidth:65,padding:2},headerCellThumbnail:{padding:0},cellName:{borderWidth:"1px 1px 1px 0px",borderColor:y.default.border_light_gray,padding:15,width:250},headerCellName:{borderWidth:"0px 1px 1px 0px",borderColor:y.default.border_light_gray,padding:15},cellType:{width:120},thumbnailWrapper:{height:65,display:"flex",justifyContent:"center",alignItems:"center"}},v=function(e,t){var r=t.rowData,a="/projects/"+r.type+"/"+r.channel+"/";return e=e||"/blockly/media/projects/project_default.png",c.default.createElement("a",{style:P.tableLayoutStyles.link,href:a,target:"_blank"},c.default.createElement(h.ImageWithStatus,{src:e,width:65,wrapperStyle:O.thumbnailWrapper}))},A=function(e,t){var r=t.rowData,a="/projects/"+r.type+"/"+r.channel+"/";return c.default.createElement("a",{style:P.tableLayoutStyles.link,href:a,target:"_blank"},e)},x=function(e){var t="/featured_projects/"+e+"/unfeature";$.ajax({url:t,type:"PUT",dataType:"json"}).done(I).fail(R)},I=function(){window.location.reload(!0)},R=function(){alert("Shucks. Something went wrong - this project is still featured.")},D=function(){alert("Shucks. Something went wrong - this project wasn't featured.")},N=function(e,t){var r=t.rowData;return c.default.createElement(E.default,null,c.default.createElement(C.default.Item,{onClick:function(){return x(r.channel)}},d.default.stopFeaturing()))},U=function(e,t){var r="/featured_projects/"+e+"/feature";t||alert(d.default.featureUnpublishedWarning()),$.ajax({url:r,type:"PUT",dataType:"json"}).done(I).fail(D)},F=function(e,t){var r=t.rowData;return c.default.createElement(E.default,null,c.default.createElement(C.default.Item,{onClick:function(){return U(r.channel,r.publishedAt)}},d.default.featureAgain()))},M=function(e){if(e){return new Date(e).toLocaleDateString()}return d.default.no()},k=function(e){return T.FEATURED_PROJECT_TYPE_MAP[e]},W=function(e){function t(){var r,a,u;l(this,t);for(var i=arguments.length,c=Array(i),p=0;p<i;p++)c[p]=arguments[p];return r=a=n(this,e.call.apply(e,[this].concat(c))),a.state=o({},L.PROJECT_NAME,{direction:"desc",position:0}),a.getSortingColumns=function(){return a.state.sortingColumns||{}},a.onSort=function(e){a.setState({sortingColumns:b.sort.byColumn({sortingColumns:a.state.sortingColumns,sortingOrder:{FIRST:"asc",asc:"desc",desc:"asc"},selectedColumn:e})})},a.getColumns=function(e){var t=a.props.tableVersion,r=[{property:"thumbnailUrl",header:{props:{style:s({},P.tableLayoutStyles.headerCell,O.headerCellFirst,O.headerCellThumbnail,P.tableLayoutStyles.unsortableHeader)}},cell:{format:v,props:{style:s({},P.tableLayoutStyles.cell,O.cellFirst,O.cellThumbnail)}}},{property:"projectName",header:{label:d.default.projectName(),props:{style:s({},P.tableLayoutStyles.headerCell,O.headerCellName)}},cell:{format:A,props:{style:s({},P.tableLayoutStyles.cell,O.cellName)}}},{property:"type",header:{label:d.default.projectType(),props:{style:P.tableLayoutStyles.headerCell},transforms:[e]},cell:{format:k,props:{style:s({},O.cellType,P.tableLayoutStyles.cell)}}},{property:"publishedAt",header:{label:d.default.published(),props:{style:P.tableLayoutStyles.headerCell},transforms:[e]},cell:{format:M,props:{style:P.tableLayoutStyles.cell}}},{property:"featuredAt",header:{label:d.default.featured(),props:{style:P.tableLayoutStyles.headerCell},transforms:[e]},cell:{format:M,props:{style:P.tableLayoutStyles.cell}}}],o=[{property:"unfeaturedAt",header:{label:d.default.unfeatured(),props:{style:P.tableLayoutStyles.headerCell},transforms:[e]},cell:{format:M,props:{style:P.tableLayoutStyles.cell}}},{property:"actions",header:{label:d.default.quickActions(),props:{style:s({},P.tableLayoutStyles.headerCell,P.tableLayoutStyles.unsortableHeader)}},cell:{format:F,props:{style:P.tableLayoutStyles.cell}}}],l=[{property:"actions",header:{label:d.default.quickActions(),props:{style:s({},P.tableLayoutStyles.headerCell,P.tableLayoutStyles.unsortableHeader)}},cell:{format:N,props:{style:P.tableLayoutStyles.cell}}}];return"currentFeatured"===t?r.concat(l):r.concat(o)},u=r,n(a,u)}return u(t,e),t.prototype.render=function(){var e=(0,g.default)(this.getSortingColumns,this.onSort,P.sortableOptions),t=this.getColumns(e),r=this.getSortingColumns(),a=b.sort.sorter({columns:t,sortingColumns:r,sort:j.default})(this.props.projectList);return c.default.createElement(b.Table.Provider,{columns:t,style:P.tableLayoutStyles.table},c.default.createElement(b.Table.Header,null),c.default.createElement(b.Table.Body,{rows:a,rowKey:"channel"}))},t}(c.default.Component);W.propTypes={projectList:i.PropTypes.arrayOf(T.featuredProjectDataPropType).isRequired,tableVersion:i.PropTypes.oneOf(Object.values(T.featuredProjectTableTypes)).isRequired},t.default=W}},[3451]);