webpackJsonp([15],{2152:function(e,t,n){"use strict";var l=n(744);t.load=function(e,t){var n=l.load(e,t);n.linePatterns={rainbowMenu:e("media/common_images/rainbow-menuicon.png"),ropeMenu:e("media/common_images/rope-menuicon.png"),squigglyMenu:e("media/common_images/squiggly-menuicon.png"),swirlyMenu:e("media/common_images/swirlyline-menuicon.png"),patternDefault:e("media/common_images/defaultline-menuicon.png"),rainbowLine:e("media/common_images/rainbow.png"),ropeLine:e("media/common_images/rope.png"),squigglyLine:e("media/common_images/squiggly.png"),swirlyLine:e("media/common_images/swirlyline.png")};var a={anna:{speedModifier:10,avatarSettings:{width:73,height:100,numHeadings:36,numFrames:10,visible:!0},smoothAnimate:!0,consolidateTurnAndMove:!0,linePatterns:{annaLine:n.assetUrl("annaline.png"),annaLine_2x:n.assetUrl("annaline_2x.png")},lineStylePatternOptions:[[n.assetUrl("annaline-menuicon.png"),"annaLine"]],artistOptions:["anna","elsa"],avatarAllowedScripts:["frozen"],blankAvatar:n.assetUrl("blank.png")},elsa:{speedModifier:10,avatarSettings:{width:73,height:100,numHeadings:18,numFrames:20,visible:!0},smoothAnimate:!0,consolidateTurnAndMove:!0,linePatterns:{elsaLine:n.assetUrl("elsaline.png"),elsaLine_2x:n.assetUrl("elsaline_2x.png")},lineStylePatternOptions:[[n.assetUrl("elsaline-menuicon.png"),"elsaLine"]],artistOptions:["anna","elsa"],avatarAllowedScripts:["frozen"],blankAvatar:n.assetUrl("blank.png")},artist:{lineStylePatternOptions:[[n.linePatterns.rainbowMenu,"rainbowLine"],[n.linePatterns.ropeMenu,"ropeLine"],[n.linePatterns.squigglyMenu,"squigglyLine"],[n.linePatterns.swirlyMenu,"swirlyLine"]]}};n.stickers=function(){var t,n,l=["Alien","Bat","Bird","Cat","Caveboy","Cavegirl","Dinosaur","Dog","Dragon","Ghost","Knight","Monster","Ninja","Octopus","Penguin","Pirate","Princess","Robot","Soccerboy","Soccergirl","Spacebot","Squirrel","Tennisboy","Tennisgirl","Unicorn","Witch","Wizard","Zombie"],a=["Beaver","Bunny","Chicken","Elephant","Giraffe","Goat","Grasshopper","Hippo","Lion","Llama","Monkey","Moose","Mouse","Owl","Peacock","Rocket","Triceratops","Turtle","Zebra"],o={};for(t=0;t<l.length;t++)n=l[t],o[n]=e("media/skins/studio/"+n.toLowerCase()+"_thumb.png");for(t=0;t<a.length;t++)n=a[t],o[n]=e("media/common_images/stickers/"+n.toLowerCase()+".png");return o}();var o=a[n.id];n.speedModifier=1,n.avatarSettings={width:70,height:51,numHeadings:180,numFrames:1,visible:!0};for(var i in o)n[i]=o[i];var r=[[n.linePatterns.patternDefault,"DEFAULT"]];return o&&o.lineStylePatternOptions&&(r=r.concat(o.lineStylePatternOptions)),n.lineStylePatternOptions=r,n}},2950:function(e,t,n){"use strict";var l=n(71),a=n(82),o=function(){this.log=[]};e.exports=o,o.prototype.random=function(e){return(0,l.randomValue)(e)},o.prototype.drawCircle=function(e,t){for(var n=0;n<36;n++)this.moveForward(e,t),this.turnRight(10,t)},o.prototype.drawSnowflake=function(e,t){var n,l,o;switch("random"===e&&(e=a.sample(["fractal","flower","spiral","line","parallelogram","square"])),e){case"fractal":for(n=0;n<8;n++){for(this.jumpForward(45,t),this.turnLeft(45,t),l=0;l<3;l++){for(o=0;o<3;o++)this.moveForward(15,t),this.moveBackward(15,t),this.turnRight(45,t);this.turnLeft(90,t),this.moveBackward(15,t),this.turnLeft(45,t)}this.turnRight(90,t)}break;case"flower":for(n=0;n<5;n++)this.drawCircle(2,t),this.drawCircle(4,t),this.turnRight(72,t);break;case"spiral":for(n=0;n<20;n++)this.drawCircle(3,t),this.moveForward(20,t),this.turnRight(18,t);break;case"line":for(n=0;n<90;n++)this.penColour(function(){var e=Blockly.FieldColour.COLOURS;return e[Math.floor(Math.random()*e.length)]}()),this.moveForward(50,t),this.moveBackward(50,t),this.turnRight(4,t);this.penColour("#FFFFFF",t);break;case"parallelogram":for(n=0;n<10;n++){for(l=0;l<2;l++)this.moveForward(50,t),this.turnRight(60,t),this.moveForward(50,t),this.turnRight(120,t);this.turnRight(36,t)}break;case"square":for(n=0;n<10;n++){for(l=0;l<4;l++)this.moveForward(50,t),this.turnRight(90,t);this.turnRight(36,t)}}},o.prototype.moveForward=function(e,t){this.log.push(["FD",e,t])},o.prototype.moveBackward=function(e,t){this.log.push(["FD",-e,t])},o.prototype.moveUp=function(e,t){this.log.push(["MV",e,0,t])},o.prototype.moveDown=function(e,t){this.log.push(["MV",e,180,t])},o.prototype.moveLeft=function(e,t){this.log.push(["MV",e,270,t])},o.prototype.moveRight=function(e,t){this.log.push(["MV",e,90,t])},o.prototype.jumpTo=function(e,t){this.log.push(["JT",e,t])},o.prototype.jumpToXY=function(e,t,n){this.log.push(["JT",[e,t],n])},o.prototype.moveUpRight=function(e,t){this.log.push(["MD",e,45,t])},o.prototype.moveDownRight=function(e,t){this.log.push(["MD",e,135,t])},o.prototype.moveDownLeft=function(e,t){this.log.push(["MD",e,225,t])},o.prototype.moveUpLeft=function(e,t){this.log.push(["MD",e,315,t])},o.prototype.jumpUp=function(e,t){this.log.push(["JD",e,0,t])},o.prototype.jumpDown=function(e,t){this.log.push(["JD",e,180,t])},o.prototype.jumpLeft=function(e,t){this.log.push(["JD",e,270,t])},o.prototype.jumpRight=function(e,t){this.log.push(["JD",e,90,t])},o.prototype.jumpUpRight=function(e,t){this.log.push(["JD",e,45,t])},o.prototype.jumpDownRight=function(e,t){this.log.push(["JD",e,135,t])},o.prototype.jumpDownLeft=function(e,t){this.log.push(["JD",e,225,t])},o.prototype.jumpUpLeft=function(e,t){this.log.push(["JD",e,315,t])},o.prototype.jumpForward=function(e,t){this.log.push(["JF",e,t])},o.prototype.jumpBackward=function(e,t){this.log.push(["JF",-e,t])},o.prototype.turnRight=function(e,t){this.log.push(["RT",e,t])},o.prototype.turnLeft=function(e,t){this.log.push(["RT",-e,t])},o.prototype.globalAlpha=function(e,t){this.log.push(["GA",e,t])},o.prototype.penUp=function(e){this.log.push(["PU",e])},o.prototype.penDown=function(e){this.log.push(["PD",e])},o.prototype.penWidth=function(e,t){this.log.push(["PW",Math.max(e,0),t])},o.prototype.penColour=function(e,t){this.log.push(["PC",e,t])},o.prototype.penPattern=function(e,t){this.log.push(["PS",e,t])},o.prototype.hideTurtle=function(e){this.log.push(["HT",e])},o.prototype.showTurtle=function(e){this.log.push(["ST",e])},o.prototype.drawSticker=function(e,t,n){this.log.push(["sticker",e,t,n])},o.prototype.setArtist=function(e,t){this.log.push(["setArtist",e,t])}},2951:function(e,t,n){"use strict";var l;t.injectArtistAPI=function(e){l=e},t.moveForward=function(e){l.log.push(["FD",e,null])},t.moveBackward=function(e){l.log.push(["FD",-e,null])},t.moveUp=function(e){l.log.push(["MV",e,0,null])},t.moveDown=function(e){l.log.push(["MV",e,180,null])},t.moveLeft=function(e){l.log.push(["MV",e,270,null])},t.moveRight=function(e){l.log.push(["MV",e,90,null])},t.moveUpRight=function(e){l.log.push(["MD",e,45,null])},t.moveDownRight=function(e){l.log.push(["MD",e,135,null])},t.moveDownLeft=function(e){l.log.push(["MD",e,225,null])},t.moveUpLeft=function(e){l.log.push(["MD",e,315,null])},t.jumpUp=function(e){l.log.push(["JD",e,0,null])},t.jumpDown=function(e){l.log.push(["JD",e,180,null])},t.jumpLeft=function(e){l.log.push(["JD",e,270,null])},t.jumpRight=function(e){l.log.push(["JD",e,90,null])},t.jumpUpRight=function(e){l.log.push(["JD",e,45,null])},t.jumpDownRight=function(e){l.log.push(["JD",e,135,null])},t.jumpDownLeft=function(e){l.log.push(["JD",e,225,null])},t.jumpUpLeft=function(e){l.log.push(["JD",e,315,null])},t.jumpForward=function(e){l.log.push(["JF",e,null])},t.jumpBackward=function(e){l.log.push(["JF",-e,null])},t.turnRight=function(e){l.log.push(["RT",e,null])},t.turnLeft=function(e){l.log.push(["RT",-e,null])},t.globalAlpha=function(e){l.log.push(["GA",e,null])},t.penUp=function(e){l.log.push(["PU",null])},t.penDown=function(e){l.log.push(["PD",null])},t.penWidth=function(e){l.log.push(["PW",Math.max(e,0),null])},t.penColour=function(e){l.log.push(["PC",e,null])},t.penPattern=function(e){l.log.push(["PS",e,null])},t.hideTurtle=function(e){l.log.push(["HT",null])},t.showTurtle=function(e){l.log.push(["ST",null])},t.drawSticker=function(e){l.log.push(["sticker",e,null])},t.setArtist=function(e){l.log.push(["setArtist",e,null])}},3321:function(e,t,n){n(151),n(152),e.exports=n(3322)},3322:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var a=n(3323),o=l(a);(0,l(n(820)).default)().then(o.default)},3323:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function a(e){e.skinsModule=_.default,e.blocksModule=u.default;var t=new s.default;window.__TestInterface.setSpeedSliderValue=function(e){t.speedSlider.setValue(e)},t.injectStudioApp((0,r.singleton)()),(0,i.default)(t,d.default,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var o=n(853),i=l(o),r=n(597),c=n(3324),s=l(c),m=n(2952),u=l(m),b=n(2152),_=l(b),p=n(3330),d=l(p);e.exports=t.default},3324:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){if(t<e&&n<e)return{width:t,height:n};var l,a;return t>n?(l=e,a=n*(e/t)):(a=e,l=t*(e/n)),{width:l,height:a}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},r=function(){function e(e,t){var n=[],l=!0,a=!1,o=void 0;try{for(var i,r=e[Symbol.iterator]();!(l=(i=r.next()).done)&&(n.push(i.value),!t||n.length!==t);l=!0);}catch(e){a=!0,o=e}finally{try{!l&&r.return&&r.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=n(850),s=l(c),m=n(1005),u=n(237),b=n(216),_=n(1158),p=n(743),d=n(2152),k=l(d),v=n(594),h=l(v),y=n(498),g=n(1),f=n(32),w=n(44),x=n(40),A=n(1744),R=n(2950),U=n(2951),L=n(53).Provider,E=n(944),M=n(3325),D=n(71),O=n(3326),I=n(82),S=n(3327),V=n(1291),T=n(1731),N=200,C=200,P=90,B=[{x:15,when:"after"},{x:26,when:"after"},{x:37,when:"after"},{x:46,when:"after"},{x:60,when:"after"},{x:65,when:"after"},{x:66,when:"after"},{x:64,when:"after"},{x:62,when:"before"},{x:55,when:"before"},{x:48,when:"before"},{x:33,when:"before"},{x:31,when:"before"},{x:22,when:"before"},{x:17,when:"before"},{x:12,when:"before"},{x:8,when:"after"},{x:10,when:"after"}],F=[{defaultValues:{initialX:N,initialY:C},generateBlock:function(e){return(0,p.blockAsXmlNode)("jump_to_xy",{titles:{XPOS:e.initialX,YPOS:e.initialY}})}},{defaultValues:{startDirection:P},generateBlock:function(e){return(0,p.blockAsXmlNode)("draw_turn",{titles:{DIR:"turnRight"},values:{VALUE:{type:"math_number",titleName:"NUM",titleValue:e.startDirection-P}}})}}],z=[{defaultValues:{initialX:N,initialY:C},generateBlock:function(e){return(0,p.blockAsXmlNode)("jump_to_xy",{titles:{XPOS:e.initialX,YPOS:e.initialY}})}},{defaultValues:{startDirection:180},generateBlock:function(e){return(0,p.blockAsXmlNode)("draw_turn",{titles:{DIR:"turnRight"},values:{VALUE:{type:"math_number",titleName:"NUM",titleValue:e.startDirection-180}}})}},{defaultValues:{skin:"elsa"},generateBlock:function(e){return(0,p.blockAsXmlNode)("turtle_setArtist",{titles:{VALUE:e.skin}})}}],q={artist:F,anna:z,elsa:z},j=["artist","artist_zombie","anna","elsa"],H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.x=N,this.y=C,this.heading=P,this.penDownValue=!0,this.avatar=t.avatar,this.isFrozenSkin=!!t.isFrozenSkin,this.isK1=!!t.isK1,this.decorationAnimationImage=t.decorationAnimationImage,this.showDecoration=t.showDecoration,this.turtleFrame_=0,this.isPredrawing_=!1,this.currentPathPattern=new Image,this.isDrawingWithPattern=!1,this.shouldDrawNormalized_=!1,this.ctxAnswer=this.createCanvas_("answer",400,400).getContext("2d"),this.ctxImages=this.createCanvas_("images",400,400).getContext("2d"),this.ctxPredraw=this.createCanvas_("predraw",400,400).getContext("2d"),this.ctxScratch=this.createCanvas_("scratch",400,400).getContext("2d"),this.ctxPattern=this.createCanvas_("pattern",400,400).getContext("2d"),this.ctxFeedback=this.createCanvas_("feedback",154,154).getContext("2d"),this.ctxThumbnail=this.createCanvas_("thumbnail",180,180).getContext("2d"),this.ctxNormalizedScratch=this.createCanvas_("normalizedScratch",400,400).getContext("2d"),this.ctxNormalizedAnswer=this.createCanvas_("normalizedAnswer",400,400).getContext("2d"),this.displayCanvas=this.createCanvas_("display",400,400),this.ctxDisplay=this.displayCanvas.getContext("2d")}return e.prototype.resetTurtleFrame=function(){this.turtleFrame_=0},e.prototype.createCanvas_=function(e,t,n){var l=document.createElement("canvas");return l.id=e,l.width=t,l.height=n,l},e.prototype.drawTurtle=function(){if(this.avatar.visible){this.drawDecorationAnimation("before");var e=Math.floor(this.heading*this.avatar.numHeadings/360);this.isFrozenSkin&&(e=this.avatar.numHeadings-e,e=(e+this.avatar.numHeadings/2)%this.avatar.numHeadings);var t=this.avatar.width*e,n=this.avatar.height*this.turtleFrame_;this.turtleFrame_=(this.turtleFrame_+1)%this.avatar.numFrames;var l=this.avatar.width,a=this.avatar.height,o=this.avatar.width,i=this.avatar.height,r=this.x-o/2,c=this.y-i+7;this.avatar.image&&(t<0||n<0||t+l-0>this.avatar.image.width||n+a>this.avatar.image.height||(0!==this.avatar.image.width&&this.ctxDisplay.drawImage(this.avatar.image,Math.round(t),Math.round(n),l-0,a,Math.round(r),Math.round(c),o-0,i),this.drawDecorationAnimation("after")))}},e.prototype.drawDecorationAnimation=function(e){if(this.showDecoration()){var t=(this.turtleFrame_+10)%19,n=Math.floor(this.heading*this.avatar.numHeadings/360);if(n=this.avatar.numHeadings-n,n=(n+this.avatar.numHeadings/2)%this.avatar.numHeadings,B[n].when===e){var l=85*t,a=this.x-42.5-15-15+B[n].x,o=this.y-42.5-100;0!==this.decorationAnimationImage.width&&this.ctxDisplay.drawImage(this.decorationAnimationImage,Math.round(l),Math.round(0),85,85,Math.round(a),Math.round(o),85,85)}}},e.prototype.display=function(){var e=this.ctxDisplay.fillStyle;this.ctxDisplay.fillStyle=w.white,this.ctxDisplay.clearRect(0,0,this.ctxDisplay.canvas.width,this.ctxDisplay.canvas.width),this.ctxDisplay.fillStyle=e,this.ctxDisplay.globalCompositeOperation="copy",this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxImages.canvas,0,0),this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxPredraw.canvas,0,0),this.isFrozenSkin?this.ctxDisplay.globalAlpha=.4:this.ctxDisplay.globalAlpha=.3,this.ctxDisplay.drawImage(this.ctxAnswer.canvas,0,0),this.ctxDisplay.globalAlpha=1,this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxPattern.canvas,0,0),this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxScratch.canvas,0,0),this.drawTurtle()},e.prototype.jumpTo=function(e){var t=r(e,2),n=t[0],l=t[1];this.x=Number(n),this.y=Number(l)},e.prototype.jumpForward=function(e){this.x+=e*Math.sin(this.degreesToRadians_(this.heading)),this.y-=e*Math.cos(this.degreesToRadians_(this.heading))},e.prototype.circleAt_=function(e,t,n){this.ctxScratch.arc(e,t,n,0,2*Math.PI)},e.prototype.drawToTurtle_=function(e){0===e?this.ctxScratch.lineTo(this.x+.1,this.y):this.ctxScratch.lineTo(this.x,this.y)},e.prototype.turnByDegrees=function(e){this.setHeading(this.heading+e)},e.prototype.setHeading=function(e){e=this.constrainDegrees_(e),this.heading=e},e.prototype.degreesToRadians_=function(e){return e*(Math.PI/180)},e.prototype.constrainDegrees_=function(e){return e%=360,e<0&&(e+=360),e},e.prototype.moveForward=function(e,t){if(!this.penDownValue)return void this.jumpForward(e);this.isDrawingWithPattern&&(this.drawForwardLineWithPattern_(e),!this.isFrozenSkin)||this.drawForward_(e,t)},e.prototype.drawForward_=function(e,t){this.shouldDrawJoints_()?this.drawForwardWithJoints_(e,t):this.drawForwardLine_(e)},e.prototype.drawForwardWithJoints_=function(e,t){var n=e,l=50*(t?Math.sqrt(2):1);for(n>=l&&this.drawJointAtTurtle_();n>0;){var a=n>=l,o=a?l:n;n-=o,this.drawForwardLine_(o),a&&this.drawJointAtTurtle_()}},e.prototype.drawForwardLine_=function(e){this.isFrozenSkin?(this.ctxScratch.beginPath(),this.ctxScratch.moveTo(this.stepStartX,this.stepStartY),this.jumpForward(e),this.drawToTurtle_(e),this.ctxScratch.stroke()):(this.ctxScratch.beginPath(),this.ctxScratch.moveTo(this.x,this.y),this.jumpForward(e),this.drawToTurtle_(e),this.ctxScratch.stroke())},e.prototype.drawForwardLineWithPattern_=function(e){var t,n,l;if(this.isFrozenSkin){this.ctxPattern.moveTo(this.stepStartX,this.stepStartY),t=this.currentPathPattern,n=this.stepStartX,l=this.stepStartY;var a=Math.abs(this.stepDistanceCovered);this.ctxPattern.save(),this.ctxPattern.translate(n,l),this.ctxPattern.rotate(this.degreesToRadians_(this.heading-90));var o;o=a%this.smoothAnimateStepSize==0?this.smoothAnimateStepSize:a>this.smoothAnimateStepSize?a%this.smoothAnimateStepSize:a,t.width>0&&t.height>0&&o>0&&this.ctxPattern.drawImage(t,Math.round(a),0,o,t.height,Math.round(this.stepDistanceCovered-o-2),Math.round(-18),o,t.height),this.ctxPattern.restore()}else this.ctxScratch.moveTo(this.x,this.y),t=this.currentPathPattern,n=this.x,l=this.y,this.jumpForward(e),this.ctxScratch.save(),this.ctxScratch.translate(n,l),this.ctxScratch.rotate(this.degreesToRadians_(this.heading-90)),e>0&&0!==t.width?this.ctxScratch.drawImage(t,0,0,e,t.height,-t.height/4,-t.height/2,e+t.height/2,t.height):e<0&&0!==t.width&&this.ctxScratch.drawImage(t,t.width,0,e,t.height,-t.height/4,-t.height/2,e+t.height/2,t.height),this.ctxScratch.restore()},e.prototype.shouldDrawJoints_=function(){return this.isK1&&!this.isPredrawing_},e.prototype.drawJointAtTurtle_=function(){this.ctxScratch.beginPath(),this.ctxScratch.moveTo(this.x,this.y),this.circleAt_(this.x,this.y,4),this.ctxScratch.stroke()},e}(),W=function(){this.skin=null,this.level=null,this.api=new R,U.injectArtistAPI(this.api),this.JSInterpreter=null,this.consoleLogger_=new T(window.console),this.lineStylePatternOptions=[],this.pid=0,this.decorationAnimationImage=new Image,this.loadedPathPatterns=[],this.linePatterns=[],this.speedSlider=null};e.exports=W,e.exports.Visualization=H,W.prototype.injectStudioApp=function(e){this.studioApp_=e,this.studioApp_.reset=I.bind(this.reset,this),this.studioApp_.runButtonClick=I.bind(this.runButtonClick,this),this.studioApp_.setCheckForEmptyBlocks(!0)},W.prototype.preloadAllStickerImages=function(){var e=this;this.stickers={};var t=function(t){return new Promise(function(n){var l=new Image;l.onload=function(){return n()},l.onerror=function(){return n()},l.src=e.skin.stickers[t],e.stickers[t]=l})},n=this.skin&&this.skin.stickers||{},l=Object.keys(n);return l.length?Promise.all(l.map(t)):Promise.resolve()},W.prototype.preloadAllPatternImages=function(){var e=this,t=function(t){return new Promise(function(n){var l=t[1];if(e.linePatterns[l]&&!e.loadedPathPatterns[l]){var a=new Image;a.onload=function(){return n()},a.onerror=function(){return n()},a.src=e.linePatterns[l],e.loadedPathPatterns[l]=a}else n()})},n=this.skin&&this.skin.lineStylePatternOptions;return n.length?Promise.all(n.map(t)):Promise.resolve()},W.prototype.isFrozenSkin=function(){return"anna"===this.skin.id||"elsa"===this.skin.id},W.prototype.init=function(e){function t(){this.studioApp_.init(e);var t=document.getElementById("finishButton");t&&h.default.addClickTouchEvent(t,this.checkAnswer.bind(this))}var n=this;if(!this.studioApp_)throw new Error("Artist requires a StudioApp");this.skin=e.skin,this.level=e.level,this.isFrozenSkin()&&(this.level.images=[{}],this.level.images[0].filename="background.jpg",this.level.images[0].position=[0,0],this.level.images[0].scale=1),this.linePatterns=e.skin.linePatterns,this.visualization=new H({avatar:e.skin.avatarSettings,isK1:e.level.isK1,isFrozenSkin:this.isFrozenSkin(),decorationAnimationImage:this.decorationAnimationImage,showDecoration:function(){return"elsa"===n.skin.id}}),e.grayOutUndeletableBlocks=!0,e.forceInsertTopBlock="when_run",e.dropletConfig=S,e.prepareForRemix=W.prototype.prepareForRemix.bind(this),e.loadAudio=I.bind(this.loadAudio_,this),e.afterInject=I.bind(this.afterInject_,this,e),e.embed&&e.level.markdownInstructions&&!e.level.instructions&&(e.noInstructionsWhenCollapsed=!0,e.centerEmbedded=!1);var l={};e.skin.avatarAllowedScripts&&!e.skin.avatarAllowedScripts.includes(e.scriptName)&&(l.smallStaticAvatar=e.skin.blankAvatar,l.failureAvatar=e.skin.blankAvatar),this.studioApp_.setPageConstants(e,l);var a="/blockly/media/turtle/"+(e.isLegacyShare&&e.hideSource?"icons_white.png":"icons.png"),o=g.createElement(M,{showFinishButton:!!e.level.freePlay&&!e.level.isProjectLevel,iconPath:a});return Promise.all([this.preloadAllStickerImages(),this.preloadAllPatternImages()]).then(function(){f.render(g.createElement(L,{store:(0,u.getStore)()},g.createElement(E,{visualizationColumn:o,onMount:t.bind(n)})),document.getElementById(e.containerId))})},W.prototype.prepareForRemix=function(){var e=this,t=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace),n=t.ownerDocument,l=q[this.skin.id]||F,a=!1;if(l.every(function(t){return Object.keys(t.defaultValues).every(function(n){return void 0===e.level[n]||e.level[n]===t.defaultValues[n]})}))return Promise.resolve();var o=t.querySelector('block[type="when_run"]');o||(o=n.createElement("block"),o.setAttribute("type","when_run"),t.appendChild(o)),(a=o.querySelector("next"))&&o.removeChild(a);var i=!0,r=!1,c=void 0;try{for(var s,m=l[Symbol.iterator]();!(i=(s=m.next()).done);i=!0){var u=s.value,b=!1;for(var _ in u.defaultValues){var d=this.level[_];if(void 0!==d&&d!==u.defaultValues[_]){b=!0;break}}if(b){var k={};for(var v in u.defaultValues)k[v]=void 0!==this.level[v]?this.level[v]:u.defaultValues[v];!function(e){a&&e.appendChild(a),a=n.createElement("next"),a.appendChild(e)}(u.generateBlock(k))}}}catch(e){r=!0,c=e}finally{try{!i&&m.return&&m.return()}finally{if(r)throw c}}return o.appendChild(a),(0,p.cleanBlocks)(t),Blockly.mainBlockSpace.clear(),Blockly.Xml.domToBlockSpace(Blockly.mainBlockSpace,t),Promise.resolve()},W.prototype.loadAudio_=function(){this.studioApp_.loadAudio(this.skin.winSound,"win"),this.studioApp_.loadAudio(this.skin.startSound,"start"),this.studioApp_.loadAudio(this.skin.failureSound,"failure")},W.prototype.shouldSupportNormalization=function(){return this.studioApp_.isUsingBlockly()},W.prototype.afterInject_=function(e){var t=document.getElementById("slider");this.speedSlider=new O(10,35,130,t),e.level.sliderSpeed&&this.speedSlider.setValue(e.level.sliderSpeed),e.level.instant&&(this.instant_=!0),this.studioApp_.isUsingBlockly()&&Blockly.JavaScript.addReservedWords("Turtle,code"),document.getElementById("visualization").appendChild(this.visualization.displayCanvas),this.studioApp_.isUsingBlockly()&&this.isFrozenSkin()&&(Blockly.JavaScript.colour_random=function(){if(!Blockly.JavaScript.definitions_.colour_random){var e=Blockly.JavaScript.variableDB_.getDistinctName("colour_random",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.colour_random.functionName=e;var t=[];t.push("function "+e+"() {"),t.push("   var colors = "+JSON.stringify(Blockly.FieldColour.COLOURS)+";"),t.push("  return colors[Math.floor(Math.random()*colors.length)];"),t.push("}"),Blockly.JavaScript.definitions_.colour_random=t.join("\n")}return[Blockly.JavaScript.colour_random.functionName+"()",Blockly.JavaScript.ORDER_FUNCTION_CALL]}),this.loadDecorationAnimation(),this.loadTurtle(!0),this.drawImages(),this.drawAnswer(this.visualization.ctxAnswer),this.visualization.shouldDrawNormalized_=!0,this.drawAnswer(this.visualization.ctxNormalizedAnswer),this.visualization.shouldDrawNormalized_=!1,this.level.predrawBlocks&&(this.visualization.isPredrawing_=!0,this.drawBlocksOnCanvas(this.level.predrawBlocks,this.visualization.ctxPredraw),this.visualization.isPredrawing_=!1),document.getElementById("visualizationColumn").style.width="400px"},W.prototype.drawAnswer=function(e){this.level.solutionBlocks?this.drawBlocksOnCanvas(this.level.solutionBlocks,e):this.drawLogOnCanvas(this.level.answer.slice(),e)},W.prototype.drawLogOnCanvas=function(e,t){for(this.studioApp_.reset();e.length;){var n=e.shift();this.step(n[0],n.slice(1),{smoothAnimate:!1}),this.resetStepInfo_()}t.globalCompositeOperation="copy",t.drawImage(this.visualization.ctxScratch.canvas,0,0),t.globalCompositeOperation="source-over"},W.prototype.drawBlocksOnCanvas=function(e,t){var n;if(this.studioApp_.isUsingBlockly()){var l=Blockly.Xml.textToDom(e);n=Blockly.Generator.xmlToCode("JavaScript",l)}else n=e;this.evalCode(n),this.drawCurrentBlocksOnCanvas(t)},W.prototype.drawCurrentBlocksOnCanvas=function(e){this.drawLogOnCanvas(this.api.log,e)},W.prototype.placeImage=function(e,t,n){var l=new Image;l.onload=I.bind(function(){0!==l.width&&(n?this.visualization.ctxImages.drawImage(l,t[0],t[1],l.width,l.height,0,0,l.width*n,l.height*n):this.visualization.ctxImages.drawImage(l,t[0],t[1])),this.visualization.display()},this),this.isFrozenSkin()?l.src=this.skin.assetUrl(e):(l.crossOrigin="anonymous",l.src=e.startsWith("http")?e:this.studioApp_.assetUrl("media/turtle/"+e))},W.prototype.drawImages=function(){if(this.level.images){for(var e=0;e<this.level.images.length;e++){var t=this.level.images[e];this.placeImage(t.filename,t.position,t.scale)}this.visualization.ctxImages.globalCompositeOperation="copy",this.visualization.ctxImages.drawImage(this.visualization.ctxScratch.canvas,0,0),this.visualization.ctxImages.globalCompositeOperation="source-over"}},W.prototype.loadTurtle=function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t?function(){return e.visualization.display()}:function(){return e.visualization.drawTurtle()};this.visualization.avatar.image=new Image,this.visualization.avatar.image.onload=I.bind(n,this),this.visualization.avatar.image.src=this.skin.avatar},W.prototype.loadDecorationAnimation=function(){"elsa"===this.skin.id&&(this.decorationAnimationImage.src=this.skin.decorationAnimation)},W.prototype.reset=function(e){this.visualization.x=N,this.visualization.y=C,this.visualization.heading=void 0!==this.level.startDirection?this.level.startDirection:P,this.visualization.penDownValue=!0,this.visualization.avatar.visible=!0,this.visualization.resetTurtleFrame(),void 0!==this.level.initialX&&(this.visualization.x=this.level.initialX),void 0!==this.level.initialY&&(this.visualization.y=this.level.initialY),this.visualization.ctxScratch.canvas.width=this.visualization.ctxScratch.canvas.width,this.visualization.ctxPattern.canvas.width=this.visualization.ctxPattern.canvas.width,this.isFrozenSkin()?(this.visualization.ctxScratch.strokeStyle="rgb(255,255,255)",this.visualization.ctxScratch.fillStyle="rgb(255,255,255)",this.visualization.ctxScratch.lineWidth=2):(this.visualization.ctxScratch.strokeStyle="#000000",this.visualization.ctxScratch.fillStyle="#000000",this.visualization.ctxScratch.lineWidth=5),this.visualization.ctxScratch.lineCap="round",this.visualization.ctxScratch.font="normal 18pt Arial",this.visualization.display(),this.visualization.ctxFeedback.clearRect(0,0,this.visualization.ctxFeedback.canvas.width,this.visualization.ctxFeedback.canvas.height),this.selectPattern(),this.pid&&window.clearTimeout(this.pid),this.pid=0,this.consoleLogger_.detach(),this.JSInterpreter&&(this.JSInterpreter.deinitialize(),this.JSInterpreter=null),this.executionError=null,this.studioApp_.stopLoopingAudio("start"),this.resetStepInfo_()},W.prototype.runButtonClick=function(){this.studioApp_.toggleRunReset("reset"),document.getElementById("spinner").style.visibility="visible",this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.traceOn(!0),this.studioApp_.attempts++,this.execute()},W.prototype.evalCode=function(e){try{s.default.evalWith(e,{Turtle:this.api})}catch(e){"Infinity"!==e&&(window.onerror&&window.onerror("UserCode:"+e.message,document.URL,0),window.alert(e))}},W.prototype.initInterpreter=function(){this.level.editCode&&(this.JSInterpreter=new V({studioApp:this.studioApp_,shouldRunAtMaxSpeed:function(){return!1}}),this.JSInterpreter.onExecutionError.register(this.handleExecutionError.bind(this)),this.consoleLogger_.attachTo(this.JSInterpreter),this.JSInterpreter.parse({code:this.studioApp_.getCode(),blocks:S.blocks,blockFilter:this.level.executePaletteApisOnly&&this.level.codeFunctions}))},W.prototype.handleExecutionError=function(e,t,n){this.consoleLogger_.log(n),this.executionError={err:e,lineNumber:t},e instanceof SyntaxError&&(this.testResults=b.TestResults.SYNTAX_ERROR_FAIL),this.finishExecution_()},W.prototype.execute=function(){if(this.api.log=[],this.studioApp_.reset(),this.studioApp_.hasUnwantedExtraTopBlocks()||this.studioApp_.hasDuplicateVariablesInForLoops())return void this.checkAnswer();if(this.level.editCode)this.initInterpreter();else{var e=Blockly.mainBlockSpace.getTopBlocks(!0);this.studioApp_.initializationBlocks&&(e=this.studioApp_.initializationBlocks.concat(e)),this.code=Blockly.Generator.blocksToCode("JavaScript",e),this.evalCode(this.code)}if(this.level.freePlay&&(this.levelComplete=!0,this.testResults=b.TestResults.FREE_PLAY,this.report(!1)),this.shouldSupportNormalization()&&(this.visualization.shouldDrawNormalized_=!0,this.drawLogOnCanvas(this.api.log.slice(),this.visualization.ctxNormalizedScratch),this.visualization.shouldDrawNormalized_=!1,this.studioApp_.reset()),this.studioApp_.playAudio("start",{loop:!0}),this.instant_)for(;this.animate(););else this.pid=window.setTimeout(I.bind(this.animate,this),100);this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!1)},W.prototype.checkforTurnAndMove_=function(){var e=!1,t=this.api.log[0],n=t[0],l=t.slice(1);if("RT"===n){var a=l[0];if(Math.abs(a)<=10&&this.api.log.length>1){"FD"===this.api.log[1][0]&&(e=!0)}}return e},W.prototype.executeTuple_=function(){if(0===this.api.log.length)return!1;var e;do{e=!1;var t=this.api.log[0],n=t[0],l=t[t.length-1];this.studioApp_.highlight(String(l)),this.skin.consolidateTurnAndMove&&this.checkforTurnAndMove_()&&(e=!0);var a=this.step(n,t.slice(1),{smoothAnimate:this.skin.smoothAnimate&&!e});this.visualization.display(),a&&(this.api.log.shift(),this.resetStepInfo_())}while(e);return!0},W.prototype.finishExecution_=function(){this.studioApp_.stopLoopingAudio("start"),document.getElementById("spinner").style.visibility="hidden",this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.highlightBlock(null),(0,_.captureThumbnailFromCanvas)(this.getThumbnailCanvas_()),this.level.freePlay?window.dispatchEvent(new Event("artistDrawingComplete")):this.checkAnswer()},W.prototype.animate=function(){this.pid=0;var e=1e3*Math.pow(1-this.speedSlider.getValue(),2)/this.skin.speedModifier;if(this.visualization.smoothAnimateStepSize=0===e?15:5,this.level.editCode&&this.JSInterpreter&&this.JSInterpreter.initialized()){var t=!1,n=!1;do{(t=this.JSInterpreter.isProgramDone())||(this.JSInterpreter.executeInterpreter(),n=this.executeTuple_())}while(!t&&!n);if(n||(n=this.executeTuple_()),t&&!n)return this.finishExecution_(),!1}else if(!this.executeTuple_())return this.finishExecution_(),!1;return this.instant_||(this.pid=window.setTimeout(I.bind(this.animate,this),e)),!0},W.prototype.calculateSmoothAnimate=function(e,t){var n=!0,l=this.visualization.stepDistanceCovered;if(e&&e.smoothAnimate){var a=t,o=this.visualization.smoothAnimateStepSize;a<0?l-o<=a?(t=a-l,l=a):(t=-o,l-=o,n=!1):l+o>=a?(t=a-l,l=a):(t=o,l+=o,n=!1)}return this.visualization.stepDistanceCovered=l,{tupleDone:n,distance:t}},W.prototype.step=function(e,t,n){var l,a,i,r=this,c=!0;switch(e){case"FD":a=t[0],l=this.calculateSmoothAnimate(n,a),c=l.tupleDone,this.visualization.moveForward(l.distance);break;case"JF":a=t[0],l=this.calculateSmoothAnimate(n,a),c=l.tupleDone,this.visualization.jumpForward(l.distance);break;case"MV":a=t[0],i=t[1],l=this.calculateSmoothAnimate(n,a),c=l.tupleDone,this.visualization.setHeading(i),this.visualization.moveForward(l.distance);break;case"JT":Array.isArray(t[0])?this.visualization.jumpTo(t[0]):this.visualization.jumpTo([D.xFromPosition(t[0],400),D.yFromPosition(t[0],400)]);break;case"MD":a=t[0],i=t[1],l=this.calculateSmoothAnimate(n,a),c=l.tupleDone,this.visualization.setHeading(i),this.visualization.moveForward(l.distance,!0);break;case"JD":a=t[0],i=t[1],l=this.calculateSmoothAnimate(n,a),c=l.tupleDone,this.visualization.setHeading(i),this.visualization.jumpForward(l.distance);break;case"RT":a=t[0],l=this.calculateSmoothAnimate(n,a),c=l.tupleDone,this.visualization.turnByDegrees(l.distance);break;case"GA":var s=t[0];s=Math.max(0,s),s=Math.min(100,s),this.visualization.ctxScratch.globalAlpha=s/100;break;case"PU":this.visualization.penDownValue=!1;break;case"PD":this.visualization.penDownValue=!0;break;case"PW":this.visualization.ctxScratch.lineWidth=t[0];break;case"PC":this.visualization.ctxScratch.strokeStyle=t[0],this.visualization.ctxScratch.fillStyle=t[0],this.isFrozenSkin()||(this.visualization.isDrawingWithPattern=!1);break;case"PS":t[0]&&"DEFAULT"!==t[0]?this.setPattern(t[0]):this.setPattern(null);break;case"HT":this.visualization.avatar.visible=!1;break;case"ST":this.visualization.avatar.visible=!0;break;case"sticker":var m=100;"number"==typeof t[1]&&(m=t[1]),this.visualization.shouldDrawNormalized_&&(t=Object.keys(this.stickers));var u=this.stickers[t[0]],b=o(m,u.width,u.height),_=b.width,p=b.height;this.visualization.ctxScratch.save(),this.visualization.ctxScratch.translate(this.visualization.x,this.visualization.y),this.visualization.ctxScratch.rotate(this.visualization.degreesToRadians_(this.visualization.heading)),this.visualization.ctxScratch.drawImage(u,0,0,_,p,-_/2,-p,_,p),this.visualization.ctxScratch.restore();break;case"setArtist":this.skin.id!==t[0]&&(this.skin=k.default.load(this.studioApp_.assetUrl,t[0]),this.visualization.avatar=this.skin.avatarSettings,this.linePatterns=this.skin.linePatterns,this.loadTurtle(!1),this.preloadAllPatternImages().then(function(){return r.selectPattern()}))}return c},W.prototype.selectPattern=function(){"anna"===this.skin.id?this.setPattern("annaLine"):"elsa"===this.skin.id?this.setPattern("elsaLine"):this.setPattern(null)},W.prototype.setPattern=function(e){this.visualization.shouldDrawNormalized_&&(e=null),this.loadedPathPatterns[e]?(this.visualization.currentPathPattern=this.loadedPathPatterns[e],this.visualization.isDrawingWithPattern=!0):null===e&&(this.visualization.currentPathPattern=new Image,this.visualization.isDrawingWithPattern=!1)},W.prototype.isCorrect_=function(e,t){return e<=t},W.prototype.displayFeedback_=function(){var e=this.level,t=!e.impressive&&j.includes(this.skin.id),n=(0,u.getStore)().getState().progress.signInState===y.SignInState.SignedIn;this.studioApp_.displayFeedback({feedbackType:this.testResults,message:this.message,response:this.response,level:e,feedbackImage:this.getFeedbackImage_(180,180),showingSharing:!e.disableSharing&&(e.freePlay||e.impressive),alreadySaved:e.impressive,saveToLegacyGalleryUrl:e.freePlay&&this.response&&this.response.save_to_gallery_url,saveToProjectGallery:t,disableSaveToGallery:!n,appStrings:{reinfFeedbackMsg:A.reinfFeedbackMsg(),sharingText:A.shareDrawing()}})},W.prototype.onReportComplete=function(e){this.response=e,document.getElementById("runButton").disabled=!1,this.studioApp_.onReportComplete(e),this.displayFeedback_()};var J=function e(t){return t.replace(e.regex,'">')};J.regex=/_length"><title name="length">.*?<\/title>/,W.prototype.checkAnswer=function(){for(var e=this,t=this.shouldSupportNormalization()?this.visualization.ctxNormalizedScratch:this.visualization.ctxScratch,n=t.getImageData(0,0,400,400),l=this.visualization.ctxNormalizedAnswer.getImageData(0,0,400,400),a=Math.min(n.data.length,l.data.length),o=0,i=3;i<a;i+=4)Math.abs(n.data[i]-l.data[i])>250&&o++;var r=this.level,c=r.permittedErrors||0;this.levelComplete=(!r.editCode||!this.executionError)&&(r.freePlay||this.studioApp_.hasContainedLevels||this.isCorrect_(o,c)),this.testResults=this.studioApp_.getTestResults(this.levelComplete);var s=this.getUserCode();if(this.message=void 0,r.isK1&&!this.levelComplete&&!this.studioApp_.editCode&&r.solutionBlocks&&J(s)===J(r.solutionBlocks)&&(this.testResults=b.TestResults.APP_SPECIFIC_ERROR,this.message=A.lengthFeedback()),r.failForTooManyBlocks&&this.testResults===b.TestResults.TOO_MANY_BLOCKS_FAIL)this.testResults=b.TestResults.TOO_MANY_BLOCKS_FAIL;else if((this.testResults===b.TestResults.TOO_MANY_BLOCKS_FAIL||this.testResults===b.TestResults.ALL_PASS)&&r.failForCircleRepeatValue&&this.studioApp_.isUsingBlockly()){var u=Blockly.Generator.blockSpaceToCode("JavaScript");-1===u.indexOf("count < 3")&&(this.testResults=b.TestResults.APP_SPECIFIC_ACCEPTABLE_FAIL,this.message=x.tooMuchWork())}r.freePlay&&(this.testResults=b.TestResults.FREE_PLAY),this.testResults===b.TestResults.FREE_PLAY||this.testResults>=b.TestResults.TOO_MANY_BLOCKS_FAIL?this.studioApp_.playAudioOnWin():this.studioApp_.playAudioOnFailure(),this.studioApp_.hasContainedLevels&&!r.edit_blocks?((0,m.postContainedLevelAttempt)(this.studioApp_),(0,m.runAfterPostContainedLevel)(function(){e.message=(0,m.getContainedLevelResultInfo)().feedback,e.onReportComplete()})):this.report(),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!0)},W.prototype.getUserCode=function(){if(this.studioApp_.isUsingBlockly()){var e=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);return Blockly.Xml.domToText(e)}if(this.level.editCode)return this.studioApp_.editor.getValue()},W.prototype.report=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={app:"turtle",level:this.level.id,result:this.levelComplete,testResult:this.testResults,program:encodeURIComponent(this.getUserCode()),save_to_gallery:!!this.level.impressive};e&&(t.onComplete=this.onReportComplete.bind(this)),t=this.setReportDataImage_(this.level,t),this.studioApp_.report(t)},W.prototype.setReportDataImage_=function(e,t){var n="anna"===this.skin.id||"elsa"===this.skin.id,l="solution_blocks"===e.editBlocks,a=this.testResults>=b.TestResults.TOO_MANY_BLOCKS_FAIL;if(l||a&&!n&&(e.freePlay||e.impressive)){var o=l?this.getFeedbackImage_(400,400):this.getFeedbackImage_(),r=encodeURIComponent(o.split(",")[1]);return i({},t,{image:r})}return t},W.prototype.getFeedbackImage_=function(e,t){var n=this.visualization.ctxFeedback.canvas.width,l=this.visualization.ctxFeedback.canvas.height;this.visualization.ctxFeedback.canvas.width=e||n,this.visualization.ctxFeedback.canvas.height=t||l,this.clearImage_(this.visualization.ctxFeedback),this.isFrozenSkin()&&this.level.impressive?(this.visualization.ctxFeedback.globalCompositeOperation="copy",this.visualization.ctxFeedback.drawImage(this.visualization.ctxDisplay.canvas,0,0,this.visualization.ctxFeedback.canvas.width,this.visualization.ctxFeedback.canvas.height)):this.drawImage_(this.visualization.ctxFeedback);var a=this.visualization.ctxFeedback.canvas.toDataURL("image/png");return this.visualization.ctxFeedback.canvas.width=n,this.visualization.ctxFeedback.canvas.height=l,a},W.prototype.getThumbnailCanvas_=function(){return this.clearImage_(this.visualization.ctxThumbnail),this.drawImage_(this.visualization.ctxThumbnail),this.visualization.ctxThumbnail.canvas},W.prototype.clearImage_=function(e){var t=e.fillStyle;e.fillStyle=w.white,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillStyle=t},W.prototype.drawImage_=function(e){this.level.discardBackground||(e.globalCompositeOperation="source-over",e.drawImage(this.visualization.ctxImages.canvas,0,0,e.canvas.width,e.canvas.height)),e.globalCompositeOperation="source-over",e.drawImage(this.visualization.ctxPredraw.canvas,0,0,e.canvas.width,e.canvas.height),e.globalCompositeOperation="source-over",e.drawImage(this.visualization.ctxScratch.canvas,0,0,e.canvas.width,e.canvas.height)},W.prototype.resetStepInfo_=function(){this.visualization.stepStartX=this.visualization.x,this.visualization.stepStartY=this.visualization.y,this.visualization.stepDistanceCovered=0}},3325:function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var a=n(1),o=l(a),i=n(788),r=l(i),c=n(40),s=l(c),m=n(819).default,u=n(824),b={invisible:{visibility:"hidden"}},_=function(e){return o.default.createElement("span",null,o.default.createElement(r.default,null),o.default.createElement(m,null,o.default.createElement("div",{id:"slider-cell"},o.default.createElement("svg",{id:"slider",version:"1.1",width:"150",height:"50"},o.default.createElement("clipPath",{id:"slowClipPath"},o.default.createElement("rect",{width:"26",height:"12",x:"5",y:"14"})),o.default.createElement("image",{xlinkHref:e.iconPath,height:"42",width:"84",x:"-21",y:"-10",clipPath:"url(#slowClipPath)"}),o.default.createElement("clipPath",{id:"fastClipPath"},o.default.createElement("rect",{width:"26",height:"16",x:"120",y:"10"})),o.default.createElement("image",{xlinkHref:e.iconPath,height:"42",width:"84",x:"120",y:"-11",clipPath:"url(#fastClipPath)"}))," ",o.default.createElement("img",{id:"spinner",style:b.invisible,src:"/blockly/media/turtle/loading.gif",height:"15",width:"15"})," ",e.showFinishButton&&o.default.createElement("button",{id:"finishButton",className:"share"},o.default.createElement("img",{src:"/blockly/media/1x1.gif"}),s.default.finish()))),o.default.createElement(u,null))};_.propTypes={showFinishButton:a.PropTypes.bool.isRequired,iconPath:a.PropTypes.string.isRequired},e.exports=_},3326:function(e,t,n){"use strict";var l=n(216).SVG_NS,a=n(594),o=n(71).trySetSessionStorage,i=function e(t,n,o,i,r){this.KNOB_Y_=n-12,this.KNOB_MIN_X_=t+8,this.KNOB_MAX_X_=t+o-8,this.value_=.5,this.changeFunc_=r,this.isAndroid_=a.isAndroid(),this.isIOS_=a.isIOS(),this.isWindowsTouch_=a.isWindowsTouch();var c=document.createElementNS(l,"line");c.setAttribute("class","sliderTrack"),c.setAttribute("x1",t),c.setAttribute("y1",n),c.setAttribute("x2",t+o),c.setAttribute("y2",n),i.appendChild(c),this.track_=c;var s=document.createElementNS(l,"path");for(s.setAttribute("class","sliderKnob"),s.setAttribute("d","m 0,0 l -8,8 v 12 h 16 v -12 z"),i.appendChild(s),this.knob_=s,this.setValue(.5);i&&"svg"!==i.nodeName.toLowerCase();)i=i.parentNode;this.SVG_=i;var m=this;a.addMouseDownTouchEvent(this.knob_,function(e){return m.knobMouseDown_(e)}),a.addMouseDownTouchEvent(this.track_,function(e){return m.trackMouseDown_(e)}),a.addMouseUpTouchEvent(this.SVG_,e.knobMouseUp_),a.addMouseMoveTouchEvent(this.SVG_,e.knobMouseMove_),e.bindEvent_(document,"mouseover",e.mouseOver_)};i.activeSlider_=null,i.startMouseX_=0,i.startKnobX_=0,i.prototype.knobMouseDown_=function(e){return this.beginDrag_(this.mouseToSvg_(e)),e.preventDefault(),!1},i.prototype.trackMouseDown_=function(e){var t=this.mouseToSvg_(e);return this.snapToPosition_(t.x),this.beginDrag_(t),e.preventDefault(),!1},i.prototype.beginDrag_=function(e){i.activeSlider_=this,i.startMouseX_=e.x,i.startKnobX_=0;var t=this.knob_.getAttribute("transform");if(t){var n=t.match(/translate\(\s*([-\d.]+)/);n&&(i.startKnobX_=Number(n[1]))}},i.prototype.snapToPosition_=function(e){var t=Math.min(Math.max(e,this.KNOB_MIN_X_),this.KNOB_MAX_X_);this.knob_.setAttribute("transform","translate("+t+","+this.KNOB_Y_+")"),this.value_=(t-this.KNOB_MIN_X_)/(this.KNOB_MAX_X_-this.KNOB_MIN_X_),this.setValueOverride_(this.defaultValue_,this.value_),this.changeFunc_&&this.changeFunc_(this.value_)},i.knobMouseUp_=function(e){i.activeSlider_=null},i.mouseOver_=function(e){if(i.activeSlider_){for(var t=e.target;t;t=t.parentNode)if(t===i.activeSlider_.SVG_)return;i.knobMouseUp_(e)}},i.knobMouseMove_=function(e){var t=i.activeSlider_;if(t){var n=t.mouseToSvg_(e).x-i.startMouseX_+i.startKnobX_;t.snapToPosition_(n)}},i.prototype.getValue=function(){return this.value_},i.prototype.setValue=function(e){e=Math.min(Math.max(e,0),1),this.defaultValue_=e;var t=this.getValueOverride_();t&&e===t.from&&(e=t.to),this.value_=e;var n=this.KNOB_MIN_X_+(this.KNOB_MAX_X_-this.KNOB_MIN_X_)*this.value_;this.knob_.setAttribute("transform","translate("+n+","+this.KNOB_Y_+")")},i.prototype.getValueOverride_=function(){var e=sessionStorage.getItem("slider_value_override");if(e)return JSON.parse(e)},i.prototype.setValueOverride_=function(e,t){o("slider_value_override",JSON.stringify({from:e,to:t}))},i.prototype.mouseToSvg_=function(e){var t=this.SVG_.createSVGPoint();this.isWindowsTouch_?(t.x=e.screenX,t.y=e.screenY):e.changedTouches&&e.changedTouches.length>0?(t.x=e.changedTouches[0].pageX,t.y=e.changedTouches[0].pageY):this.isIOS_?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX,t.y=e.clientY);var n=this.SVG_.getScreenCTM().inverse();return t.matrixTransform(n)},i.bindEvent_=function(e,t,n){e.addEventListener(t,n,!1)},e.exports=i},3327:function(e,t,n){"use strict";var l=n(2951);e.exports.blocks=[{func:"moveForward",parent:l,category:"Artist",params:["100"]},{func:"turnRight",parent:l,category:"Artist",params:["90"]},{func:"penColour",parent:l,category:"Artist",params:["'#ff0000'"]},{func:"penWidth",parent:l,category:"Artist",params:["1"]}],e.exports.categories={Artist:{color:"red",blocks:[]}}},3330:function(e,t,n){"use strict";var l=n(2908),a=n(3331).answer,o=n(1744),i=n(743),r=n(71),c=function(e,t){return n(3332)({page:e,level:t})},s=function(e,t){return n(3333)({page:e,level:t})},m=n(3334),u=m.makeMathNumber,b=m.simpleBlock,_=m.repeat,p=m.drawASquare,d=m.drawASnowman,k=m.MOVE_FORWARD_INLINE,v=m.MOVE_FORWARD_OR_BACKWARD_INLINE,h=m.moveForwardInline,y=m.MOVE_BACKWARD_INLINE,g=m.turnLeftRestricted,f=m.turnRightRestricted,w=m.turnRightByConstant,x=m.turnRight,A=m.turnLeft,R=m.move,U=m.drawTurnRestricted,L=m.drawTurn,E=m.defineWithArg,M={SIMPLE_MOVE_UP:i.blockOfType("simple_move_up"),SIMPLE_MOVE_DOWN:i.blockOfType("simple_move_down"),SIMPLE_MOVE_LEFT:i.blockOfType("simple_move_left"),SIMPLE_MOVE_RIGHT:i.blockOfType("simple_move_right"),SIMPLE_JUMP_UP:i.blockOfType("simple_jump_up"),SIMPLE_JUMP_DOWN:i.blockOfType("simple_jump_down"),SIMPLE_JUMP_LEFT:i.blockOfType("simple_jump_left"),SIMPLE_JUMP_RIGHT:i.blockOfType("simple_jump_right"),SIMPLE_MOVE_UP_LENGTH:i.blockOfType("simple_move_up_length"),SIMPLE_MOVE_DOWN_LENGTH:i.blockOfType("simple_move_down_length"),SIMPLE_MOVE_LEFT_LENGTH:i.blockOfType("simple_move_left_length"),SIMPLE_MOVE_RIGHT_LENGTH:i.blockOfType("simple_move_right_length"),simpleMoveBlocks:function(){return this.SIMPLE_MOVE_UP+this.SIMPLE_MOVE_DOWN+this.SIMPLE_MOVE_LEFT+this.SIMPLE_MOVE_RIGHT},simpleJumpBlocks:function(){return this.SIMPLE_JUMP_UP+this.SIMPLE_JUMP_DOWN+this.SIMPLE_JUMP_LEFT+this.SIMPLE_JUMP_RIGHT},simpleMoveLengthBlocks:function(){return this.SIMPLE_MOVE_UP_LENGTH+this.SIMPLE_MOVE_DOWN_LENGTH+this.SIMPLE_MOVE_LEFT_LENGTH+this.SIMPLE_MOVE_RIGHT_LENGTH}},D=e.exports={"1_1":{instructionsImportant:!0,answer:a(1,1),ideal:4,toolbox:c(1,1),startBlocks:s(1,1),requiredBlocks:[[k],[f(90)]],freePlay:!1},"1_2":{answer:a(1,2),ideal:8,toolbox:c(1,2),startBlocks:s(1,2),requiredBlocks:[[k],[f(90)]],freePlay:!1},"1_3":{answer:a(1,3),ideal:4,toolbox:c(1,3),startBlocks:s(1,3),requiredBlocks:[[k],[f(90)],[_(4)]],freePlay:!1},"1_4":{answer:a(1,4),ideal:4,toolbox:c(1,4),startBlocks:s(1,4),requiredBlocks:[[v],[_(3)],[{test:function(e){return"draw_turn_by_constant_restricted"===e.type},type:"draw_turn_by_constant",titles:{VALUE:"???"}}]],freePlay:!1},"1_5":{answer:a(1,5),ideal:7,toolbox:c(1,5),startBlocks:s(1,5),requiredBlocks:[[_(3)],[f(120)],[k]],freePlay:!1},"1_6":{answer:a(1,6),ideal:8,toolbox:c(1,6),startBlocks:s(1,6),requiredBlocks:[[_(3)],[f(120),g(120)],[k,y]],freePlay:!1},"1_7":{answer:a(1,7),ideal:11,toolbox:c(1,7),startBlocks:s(1,7),requiredBlocks:[[U(90)],[_(4)],[y,k]],freePlay:!1,startDirection:0},"1_8":{answer:a(1,8),ideal:5,toolbox:c(1,8),startBlocks:s(1,8),requiredBlocks:[[_(8)]],freePlay:!1},"1_9":{answer:a(1,9),ideal:6,toolbox:c(1,9),startBlocks:s(1,9),requiredBlocks:[],freePlay:!1,sliderSpeed:.9,permittedErrors:10,failForCircleRepeatValue:!0},"1_10":{answer:a(1,10),toolbox:c(1,10),startBlocks:s(1,10),requiredBlocks:[],freePlay:!0},"2_1":{instructionsImportant:!0,answer:a(2,1),ideal:6,toolbox:c(2,1),startBlocks:s(2,1),requiredBlocks:[[_(4)],[{test:function(e){return"draw_turn"===e.type},type:"draw_turn",titles:{DIR:"turnRight"},values:{VALUE:u(90)}}],[{test:function(e){return"draw_move"===e.type},type:"draw_move",values:{VALUE:u(100)}}]],freePlay:!1},"2_2":{answer:a(2,2),ideal:3,toolbox:c(2,2),startBlocks:s(2,2),requiredBlocks:[[p("??")]],freePlay:!1},"2_3":{answer:a(2,3),ideal:6,toolbox:c(2,3),startBlocks:s(2,3),requiredBlocks:[[_(3)],[p(100)],[L()]],freePlay:!1},"2_4":{answer:a(2,4),ideal:6,toolbox:c(2,4),startBlocks:s(2,4),freePlay:!1,impressive:!0},"2_5":{answer:a(2,5),ideal:11,toolbox:c(2,5),startBlocks:s(2,5),requiredBlocks:[[p("??")]],freePlay:!1},"2_6":{answer:a(2,6),ideal:7,toolbox:c(2,6),startBlocks:s(2,6),requiredBlocks:[[b("variables_get_counter")]],freePlay:!1},"2_7":{minWorkspaceHeight:1200,answer:a(2,7),ideal:9,toolbox:c(2,7),startBlocks:s(2,7),requiredBlocks:[[b("controls_for_counter")],[R("??")],[b("variables_get_counter")],[x(90)]],freePlay:!1},"2_7_5":{answer:a(2,7.5),initialY:300,ideal:5,toolbox:c(2,8),startBlocks:s(2,7.5),requiredBlocks:[[d(250)],[d(100)]],freePlay:!1,sliderSpeed:.9,startDirection:0},"2_8":{answer:a(2,8),initialX:100,ideal:10,toolbox:c(2,8),startBlocks:s(2,8),requiredBlocks:[[d(150)],[x(90)],[A(90)],[{test:"jump",type:"jump",values:{VALUE:u(100)}}],[b("jump")],[_(3)]],freePlay:!1,sliderSpeed:.9,startDirection:0},"2_9":{answer:a(2,9),initialX:100,ideal:13,toolbox:c(2,9),startBlocks:s(2,9),requiredBlocks:[[d("??")],[b("controls_for_counter")],[b("variables_get_counter")],[x(90)],[A(90)],[{test:"jump",type:"jump",values:{VALUE:u(60)}}]],freePlay:!1,sliderSpeed:.9,startDirection:0},"2_10":{answer:a(2,10),freePlay:!0,toolbox:c(2,10),startBlocks:s(2,10)},"3_1":{instructionsImportant:!0,answer:a(3,1),ideal:14,toolbox:c(3,1),startBlocks:s(3,1),requiredBlocks:[[l.call(o.drawASquare())]],freePlay:!1},"3_2":{answer:a(3,2),ideal:14,toolbox:c(3,2),startBlocks:s(3,2),requiredBlocks:[[_(3)],[R(100)],[x(120)],[l.call(o.drawATriangle())]],freePlay:!1},"3_3":{answer:a(3,3),initialY:350,ideal:20,toolbox:c(3,3),startBlocks:s(3,3),requiredBlocks:[[l.call(o.drawATriangle())],[R(100)],[l.call(o.drawASquare())]],freePlay:!1,images:[{filename:"cat.svg",position:[170,247]},{filename:"cat.svg",position:[170,47]},{filename:"cow.svg",position:[182,147]}],startDirection:0},"3_4":{answer:a(3,4),ideal:19,toolbox:c(3,4),startBlocks:s(3,4),requiredBlocks:[[l.call(o.drawASquare())],[R(100)],[x(30)],[l.call(o.drawATriangle())]],freePlay:!1,images:[{filename:"lion.svg",position:[195,97]}],startDirection:0},"3_5":{answer:a(3,5),ideal:21,toolbox:c(3,5),startBlocks:s(3,5),requiredBlocks:[[l.define(o.drawAHouse())],[l.call(o.drawASquare())],[R(100)],[x(30)],[l.call(o.drawATriangle())],[l.call(o.drawAHouse())]],freePlay:!1,images:[{filename:"cat.svg",position:[170,90]},{filename:"cat.svg",position:[222,90]}],startDirection:0},"3_6":{answer:a(3,6),initialY:350,ideal:19,toolbox:c(3,6),startBlocks:s(3,6),requiredBlocks:[[E(o.drawATriangle(),o.lengthParameter())],[b("variables_get_length")],[l.callWithArg(o.drawATriangle(),o.lengthParameter())]],disableParamEditing:!1,freePlay:!1,images:[{filename:"lion.svg",position:[185,100]},{filename:"cat.svg",position:[175,248]}],startDirection:0},"3_7":{answer:a(3,7),initialY:350,ideal:24,toolbox:c(3,7),startBlocks:s(3,7),requiredBlocks:[[E(o.drawAHouse(),o.lengthParameter())],[l.callWithArg(o.drawASquare(),o.lengthParameter())],[l.callWithArg(o.drawATriangle(),o.lengthParameter())],[b("variables_get_length")],[l.callWithArg(o.drawAHouse(),o.lengthParameter())]],freePlay:!1,images:[{filename:"elephant.svg",position:[205,220]}],startDirection:0,disableParamEditing:!1},"3_8":{minWorkspaceHeight:1200,answer:a(3,8),initialX:20,initialY:350,ideal:40,toolbox:c(3,8),startBlocks:s(3,8),freePlay:!1,images:[{filename:"cat.svg",position:[16,170]},{filename:"lion.svg",position:[15,250]},{filename:"elephant.svg",position:[127,220]},{filename:"cow.svg",position:[255,250]}],startDirection:0,disableParamEditing:!1},"3_9":{minWorkspaceHeight:1200,answer:a(3,9),initialX:20,initialY:350,ideal:38,toolbox:c(3,9),startBlocks:s(3,9),requiredBlocks:[[E(o.drawAHouse(),o.lengthParameter())],[l.callWithArg(o.drawASquare(),o.lengthParameter())],[l.callWithArg(o.drawATriangle(),o.lengthParameter())],[b("variables_get_length")],[l.callWithArg(o.drawAHouse(),o.lengthParameter())]],freePlay:!1,images:[{filename:"cat.svg",position:[-10,270]},{filename:"cow.svg",position:[53,250]},{filename:"elephant.svg",position:[175,220]}],failForTooManyBlocks:!0,startDirection:0,disableParamEditing:!1},"3_10":{minWorkspaceHeight:1600,answer:a(3,10),freePlay:!0,toolbox:c(3,10),startBlocks:s(3,10)},"4_1":{instructionsImportant:!0,answer:a(4,1),ideal:4,toolbox:c(4,1),startBlocks:s(4,1),requiredBlocks:[[v],[_(3)],[{test:function(e){return"draw_turn_by_constant"===e.type},type:"draw_turn_by_constant",titles:{VALUE:"???"}}]]},"4_2":{answer:a(4,2),ideal:8,toolbox:c(4,2),startBlocks:s(4,2),requiredBlocks:[[w("???")]],sliderSpeed:.5},"4_3":{answer:a(4,3),ideal:6,toolbox:c(4,3),startBlocks:s(4,3),requiredBlocks:[[_(4)],[w("???")]],sliderSpeed:.7},"4_4":{answer:a(4,4),ideal:6,toolbox:c(4,4),startBlocks:s(4,4),requiredBlocks:[[_("???")]],sliderSpeed:.7,impressive:!0},"4_5":{answer:a(4,5),ideal:6,toolbox:c(4,5),startBlocks:s(4,5),requiredBlocks:[[w("???")]],sliderSpeed:.9,impressive:!0},"4_6":{answer:a(4,6),ideal:4,toolbox:c(4,6),startBlocks:s(4,6),requiredBlocks:[[h(20)],[_(4)],[{test:"turnRight",type:"draw_turn_by_constant",titles:{VALUE:"???"}}]],permittedErrors:10,startDirection:0},"4_7":{answer:a(4,7),initialY:300,ideal:6,toolbox:c(4,7),startBlocks:s(4,7),requiredBlocks:[[h(20)],[_(10)]],startDirection:0,sliderSpeed:.7},"4_8":{answer:a(4,8),initialX:100,initialY:300,ideal:8,toolbox:c(4,8),startBlocks:s(4,8),requiredBlocks:[[_(4)],[w("???")]],startDirection:0,sliderSpeed:.9},"4_9":{answer:a(4,9),initialX:150,initialY:350,ideal:8,toolbox:c(4,9),startBlocks:s(4,9),requiredBlocks:[[w("???")]],startDirection:330,sliderSpeed:.9},"4_10":{answer:a(4,10),initialX:75,initialY:300,ideal:8,toolbox:c(4,10),startBlocks:s(4,10),requiredBlocks:[[_("???")]],startDirection:0,sliderSpeed:.9,impressive:!0},"4_11":{answer:a(4,11),freePlay:!0,initialX:75,initialY:300,toolbox:c(4,11),startBlocks:s(4,11),requiredBlocks:[],startDirection:0,sliderSpeed:.9},"5_1":{instructionsImportant:!0,minWorkspaceHeight:1200,answer:a(5,1),freePlay:!0,toolbox:c(5,1),startBlocks:s(5,1),sliderSpeed:.9},"5_2":{minWorkspaceHeight:1200,answer:a(5,2),freePlay:!0,toolbox:c(5,2),startBlocks:s(5,2),sliderSpeed:1},"5_3":{minWorkspaceHeight:1200,answer:a(5,3),freePlay:!0,toolbox:c(5,3),startBlocks:s(5,3),sliderSpeed:1},"5_4":{minWorkspaceHeight:1600,answer:a(5,4),freePlay:!0,toolbox:c(5,4),startBlocks:s(5,4),sliderSpeed:1},"5_5":{minWorkspaceHeight:1600,answer:a(5,5),freePlay:!0,toolbox:c(5,5),startBlocks:s(5,5),sliderSpeed:1},"5_6":{minWorkspaceHeight:1600,answer:a(5,6),freePlay:!0,initialY:300,toolbox:c(5,6),startBlocks:s(5,6),startDirection:0,sliderSpeed:1},builder:{answer:[],freePlay:!0,initialY:300,toolbox:c(5,7),startBlocks:"",startDirection:0,sliderSpeed:1},custom:{answer:[],freePlay:!1,initialY:300,toolbox:c(5,7),startBlocks:"",startDirection:0,sliderSpeed:1},k1_demo:{answer:[],freePlay:!1,initialY:300,isK1:!0,toolbox:i.createToolbox(M.simpleMoveBlocks()+M.simpleJumpBlocks()+M.simpleMoveLengthBlocks()+i.blockOfType("controls_repeat_simplified")+i.blockOfType("draw_colour_simple")),startBlocks:"",startDirection:0,sliderSpeed:1}};D.ec_1_1=r.extend(D["1_1"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null},startBlocks:"moveForward(100);\n"}),D.ec_1_2=r.extend(D["1_2"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null},startBlocks:"penColour('#ff0000');\nmoveForward(100);\n"}),D.ec_1_3=r.extend(D["1_3"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null,forLoop_i_0_4:{category:"Artist"}},startBlocks:"for (var i = 0; i < 4; i++) {\n  __\n}\n"}),D.ec_1_4=r.extend(D["1_4"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null,forLoop_i_0_4:{category:"Artist"}},startBlocks:"for (var i = 0; i < 3; i++) {\n  penColour('#ff0000');\n}\n"}),D.ec_1_10=r.extend(D["1_10"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null,penWidth:null,forLoop_i_0_4:{category:"Artist"}},startBlocks:"moveForward(100);\n"})},3331:function(e,t,n){"use strict";var l=n(2950),a=new l,o=function(){var e=Math.floor(Math.random()*Math.pow(2,24));e&=10452895;var t="#"+("00000"+e.toString(16)).substr(-6);a.penColour(t)},i=function(e,t){for(var n=0;n<4;n++)t&&o(),a.moveForward(e),a.turnRight(90)},r=function(e,t){for(var n=0;n<3;n++)t&&o(),a.moveForward(e),a.turnRight(120)},c=function(e){a.turnLeft(90);for(var t=[.5*e,.3*e,.2*e],n=0;n<6;n++){for(var l=t[n<3?n:5-n]/57.5,o=0;o<180;o+=2)a.moveForward(l),a.turnRight(2);2!==n&&a.turnRight(180)}a.turnLeft(90)},s=function(e){i(e),a.moveForward(e),a.turnRight(30),r(e),a.turnRight(60),a.moveForward(e),a.turnLeft(90),a.moveBackward(e)};t.answer=function(e,t){a.log=[];var n,l,m;if(1===e)switch(t){case 1:a.moveForward(100),a.turnRight(90),a.moveForward(100);break;case 2:o(),i(100,!1);break;case 3:i(100,!1);break;case 4:r(100,!0);break;case 5:i(100),r(100);break;case 6:r(100),a.turnRight(180),i(100);break;case 7:a.penColour("#00cc00"),a.turnRight(90),i(100),a.moveBackward(150),i(100);break;case 8:for(n=0;n<8;n++)o(),a.moveForward(100),a.moveBackward(100),a.turnRight(45);break;case 9:for(n=0;n<360;n++)a.moveForward(1),a.turnRight(1)}else if(2===e)switch(t){case 1:o(),i(100);break;case 2:a.penColour("#00ff00"),i(50);break;case 3:for(n=0;n<3;n++)o(),i(100),a.turnRight(120);break;case 4:for(n=0;n<36;n++)o(),i(100),a.turnRight(10);break;case 5:case 6:for(m=50;m<=90;m+=10)i(m);break;case 7:for(m=25;m<=60;m+=5)a.moveForward(m),a.turnRight(90);break;case 7.5:c(250),c(100);break;case 8:for(var u=0;u<3;u++)o(),c(150),a.turnRight(90),a.jumpForward(100),a.turnLeft(90);break;case 9:for(var b=110;b>=70;b-=10)o(),c(b),a.turnRight(90),a.jumpForward(60),a.turnLeft(90)}else if(3===e)switch(t){case 1:i(100);break;case 2:r(100);break;case 3:r(100),a.moveForward(100),i(100),a.moveForward(100),r(100);break;case 4:case 5:s(100);break;case 6:o(),r(100),a.moveForward(100),o(),r(200);break;case 7:s(150);break;case 8:s(100),s(150),s(100);break;case 9:for(n=50;n<=150;n+=50)o(),s(n)}else if(4===e)switch(t){case 1:r(100);break;case 2:for(n=0;n<2;n++)o(),r(100),a.turnRight(90);break;case 3:for(n=0;n<4;n++)o(),r(100),a.turnRight(90);break;case 4:for(n=0;n<10;n++)o(),r(100),a.turnRight(36);break;case 5:for(n=0;n<36;n++)o(),r(100),a.turnRight(10);break;case 6:i(20);break;case 7:for(n=0;n<10;n++)o(),i(20),a.moveForward(20);break;case 8:for(l=0;l<4;l++){for(n=0;n<10;n++)o(),i(20),a.moveForward(20);a.turnRight(90)}break;case 9:for(l=0;l<4;l++){for(n=0;n<10;n++)o(),i(20),a.moveForward(20);a.turnRight(80)}break;case 10:for(l=0;l<9;l++){for(n=0;n<10;n++)o(),i(20),a.moveForward(20);a.turnRight(80)}}return a.log}},3332:function(module,exports,__webpack_require__){module.exports=function anonymous(locals,escape,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}rethrow=rethrow||function(e,t,n,l){var a=t.split("\n"),o=Math.max(l-3,0),i=Math.min(a.length,l+3),r=a.slice(o,i).map(function(e,t){var n=t+o+1;return(n==l?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+l+"\n"+r+"\n\n"+e.message,e},escape=escape||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__line=1,__lines='<%\n\nvar msg = require(\'./locale\');\n// An early hack introduced some levelbuilder levels as page 5, level 7. Long\n// term we can probably do something much cleaner, but for now I\'m calling\n// out that this level is special (on page 5).\nvar LEVELBUILDER_LEVEL = 7;\n\n/*\nTOOLBOX.\n\nPAGE 1\n======\nWithin this page, blocks are only added, never taken away.\n\nLevel 1 [el]: Adds draw_move_by_constant and draw_turn_by_constant.\nLevel 2 [coloured square]: Adds draw_colour with colour_picker.\nlevel 3 [square in three blocks]: Adds controls_repeat.\nlevel 4 [triangle] Adds draw_colour with colour_random.\nLevel 5 [overlapping square and triangle (sideways envelope)]\nLevel 6 [envelope]\nLevel 7 [glasses]\nLevel 8 [spikes]\nLevel 9 [circle]\nLevel 10 [free play]: draw_width_inline\n\nPAGE 2\n======\nCategories are introduced, with contents of:\n- Actions\n  - draw_move with math_number\n  - draw_turn with math_number\n- Color\n  - draw_colour (set colour) with colour_picker\n  - draw_colour (set colour) with colour_random\n- Functions (added at level 2)\n  - [call] draw a square\n  - [call] draw a snowball (added at level 9)\n- Loops\n  - controls_repeat\n  - controls_for (added at level 6)\n- Math\n  - math_number\n- Variables (added at level 6)\n  - get counter (added at level 9)\n  - get height (added at level 7)\n  - get length (levels 6 and 10)\nLevel 1 [square]\nLevel 2 [square by function call]: add "draw a square"\nLevel 3 [3 squares]\nLevel 4 [36 squares]\nLevel 5 [nested squares without controls_for]\nLevel 6 [nested squares with controls_for]\nLevel 7 [mini-spiral]\nLevel 8 [3 snowmen]: add "draw a snowman"\nLevel 9 [snowman family]\nLevel 10 [free play]\n\nPAGE 3\n======\nCategories are used, with contents of:\n- Actions\n  - draw_move with math_number\n  - draw_turn with math_number\n- Color\n  - draw_colour (set colour) with colour_picker\n  - draw_colour (set colour) with colour_random\n- Functions (Replaced with custom category at level 2)\n  - [call] draw a circle\n  - [call] draw a square\n- Loops\n  - controls_for\n  - controls_repeat\n- Math\n  - math_number\n- Variables (added at level 6)\n  - get counter\nVariables and functions are manually added until Levels 7 and 8,\nwhen the custom categories are used\nLevel 1 [call "draw a square"]\nLevel 2 [create and call "draw a triangle"]\nLevel 3 [use "draw a square" and "draw a triangle" to fence animals]\nLevel 4 [draw a house]\nLevel 5 [create and call "draw a house"]\nLevel 6 [add parameter to "draw a triangle"]\nLevel 7 [add parameter to "draw a house"]\nLevel 8 [modify end location of "create a house"]\nLevel 9 [call "draw a house" with for loop]\nLevel 10 [free play]\n\n*/ -%>\n<xml id="toolbox" style="display: none;">\n  <% if (page === 1) { -%>\n    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant<% if (level <= 8) { %>_restricted<% } %>">\n      <title name="VALUE">90</title>\n    </block>\n    <% if (level >= 2) { -%>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n    <% } -%>\n    <% if (level >= 4) { /* Out of numeric order to make colour blocks adjacent. */ -%>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    <% } -%>\n    <% if (level >= 3) { -%>\n      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    <% } -%>\n    <% if (level === 10) { -%>\n      <block id="draw-width" type="draw_width_inline" x="158" y="67">\n        <title name="WIDTH">1</title>\n      </block>\n    <% } -%>\n  <% } else if (page === 2 || page === 3) { -%>\n    <% // Actions: draw_move, draw_turn. -%>\n    <category id="actions" name="<%= msg.catTurtle() %>">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <% if (page === 2 && level >= 8) { -%>\n        <block type="jump">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">50</title>\n            </block>\n          </value>\n        </block>\n      <% } -%>\n      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      <% if (level === 10) { -%>\n        <block id="draw-width" type="draw_width_inline">\n          <title name="WIDTH">1</title>\n        </block>\n      <% } -%>\n    </category>\n    <% // Colour: draw_colour with colour_picker and colour_random. -%>\n    <category name="<%= msg.catColour() %>">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    <% // Functions differ depending on page and locals.level. -%>\n    <% if (page === 2 && level >= 2) { -%>\n      <category name="<%= msg.catProcedures() %>">\n        <block type="draw_a_square" inline="true">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n        </block>\n        <% if (level >= 8) { -%>\n          <block type="draw_a_snowman" inline="true">\n            <value name="VALUE">\n              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            </value>\n          </block>\n        <% } -%>\n      </category>\n    <% } else if (page === 3) { -%>\n      <% if (level === 1) { -%>\n        <% // Don\'t use custom category yet, since it allows function definition. -%>\n        <category name="<%= msg.catProcedures() %>">\n          <block type="procedures_callnoreturn">\n            <mutation name="<%= msg.drawACircle() %>"></mutation>\n          </block>\n          <block type="procedures_callnoreturn">\n            <mutation name="<%= msg.drawASquare() %>"></mutation>\n          </block>\n        </category>\n      <% } else { %>\n        <category name="<%= msg.catProcedures() %>" custom="PROCEDURE"></category>\n      <% } -%>\n    <% } -%>\n    <% // Control: controls_for_counter (from page 2, level 6) and repeat. -%>\n    <category name="<%= msg.catControl() %>">\n      <% if ((page === 2 && level >= 6) || (page === 3 && level >= 9)) { -%>\n        <block type="controls_for_counter">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      <% } -%>\n      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    </category>\n    <% // Math: Just number blocks until final locals.level. -%>\n    <category name="<%= msg.catMath() %>">\n      <block type="math_number"></block>\n      <% if (level === 10) { -%>\n        <block type="math_arithmetic" inline="true"></block>\n        <block type="math_random_int">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n    <% } -%>\n    </category>\n    <% // Variables depends on page and level, although we never use the custom category -%>\n    <% // because we want to offer simplified getters and no setters. -%>\n    <% if (page === 2 && level >= 6) { -%>\n      <category name="<%= msg.catVariables() %>">\n        <block type="variables_get_counter"></block>\n      </category>\n    <% } else if (page === 3 && level >= 6 && level < 10) { -%>\n      <category name="<%= msg.catVariables() %>">\n        <% if (level >= 9) { -%>\n          <block type="variables_get_counter"></block>\n        <% } -%>\n        <% if (level >= 6) { -%>\n          <block type="variables_get_length"></block>\n        <% } -%>\n      </category>\n    <% } else if (page === 3 && level === 10) { -%>\n      <category name="<%= msg.catVariables() %>" custom="VARIABLE">\n      </category>\n    <% } -%>\n  <% } else if (page === 4) { -%>\n    <% // Actions: draw_move, draw_turn. -%>\n    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant">\n      <title name="VALUE">90</title>\n    </block>\n    <% if (level === 11) { -%>\n    <block id="draw-width" type="draw_width_inline">\n      <title name="WIDTH">1</title>\n    </block>\n    <% } -%>\n    <% // Colour: draw_colour with colour_picker and colour_random. -%>\n    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_picker"></block>\n      </value>\n    </block>\n    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n    </block>\n    <block type="controls_repeat">\n      <title name="TIMES">4</title>\n    </block>\n  <% } else if (page === 5) { -%>\n  <% // K1 simplified blocks for editor: keep in sync with Dashboard artist.rb -%>\n    <% if (level === LEVELBUILDER_LEVEL) { -%>\n      <category name="K1 Simplified">\n        <block type="controls_repeat_simplified">\n          <title name="TIMES">5</title>\n        </block>\n        <block type="draw_colour_simple"></block>\n        <block type="simple_move_up"></block>\n        <block type="simple_move_down"></block>\n        <block type="simple_move_left"></block>\n        <block type="simple_move_right"></block>\n        <block type="simple_move_up_length"></block>\n        <block type="simple_move_down_length"></block>\n        <block type="simple_move_left_length"></block>\n        <block type="simple_move_right_length"></block>\n        <block type="simple_jump_up"></block>\n        <block type="simple_jump_down"></block>\n        <block type="simple_jump_left"></block>\n        <block type="simple_jump_right"></block>\n      </category>\n    <% } -%>\n    <% // Actions: draw_move, draw_turn. -%>\n    <category id="actions" name="<%= msg.catTurtle() %>">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="jump">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">50</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_pen"></block>\n      <block id="draw-width" type="draw_width_inline">\n        <title name="WIDTH">1</title>\n      </block>\n    </category>\n    <% // Colour: draw_colour with colour_picker and colour_random. -%>\n    <category name="<%= msg.catColour() %>">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    <% // Functions -%>\n    <category name="<%= msg.catProcedures() %>" custom="PROCEDURE"></category>\n    <% if (level === LEVELBUILDER_LEVEL) { -%>\n    <category name="Prebuilt">\n      <block type="draw_a_triangle"></block>\n      <block type="draw_a_square_custom"></block>\n      <block type="draw_a_house"></block>\n      <block type="draw_a_flower"></block>\n      <block type="draw_a_snowflake"></block>\n      <block type="draw_a_snowman"></block>\n      <block type="draw_a_hexagon"></block>\n      <block type="draw_a_star"></block>\n      <block type="draw_a_robot"></block>\n      <block type="draw_a_rocket"></block>\n      <block type="draw_a_planet"></block>\n      <block type="draw_a_rhombus"></block>\n      <block type="draw_upper_wave"></block>\n      <block type="draw_lower_wave"></block>\n    </category>\n    <% } -%>\n    <% // Control: controls_for_counter and repeat. -%>\n    <category name="<%= msg.catControl() %>">\n      <block type="controls_for_counter">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n        <value name="BY">\n          <block type="math_number">\n            <title name="NUM">10</title>\n          </block>\n        </value>\n      </block>\n      <% if (level < 6) { -%>\n        <block type="controls_repeat">\n          <title name="TIMES">4</title>\n        </block>\n      <% } else { -%>\n        <block type="controls_repeat_ext">\n          <value name="TIMES">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      <% } -%>\n    </category>\n  <% // Logic -%>\n    <category name="<%= msg.catLogic() %>">\n      <block type="controls_if"></block>\n      <block type="logic_compare"></block>\n      <block type="logic_operation"></block>\n      <block type="logic_negate"></block>\n      <block type="logic_boolean"></block>\n      <block type="logic_null"></block>\n      <block type="logic_ternary"></block>\n    </category>\n    <% // Math: Just number blocks until final locals.level. -%>\n    <category name="<%= msg.catMath() %>">\n      <block type="math_number"></block>\n      <block type="math_arithmetic" inline="true"></block>\n      <block type="math_random_int">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n     </category>\n    <% // Variables -%>\n    <category name="<%= msg.catVariables() %>" custom="VARIABLE">\n    </category>\n  <% } -%>\n</xml>\n',__filename="src/turtle/toolbox.xml.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(1744),LEVELBUILDER_LEVEL=7;__line=91,__append('<xml id="toolbox" style="display: none;">\n  '),__line=93,1===page?(__append('    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant'),__line=95,level<=8&&__append("_restricted"),__append('">\n      <title name="VALUE">90</title>\n    </block>\n    '),__line=98,level>=2&&(__append('      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n    '),__line=104),__append("    "),__line=105,level>=4&&(__append('      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    '),__line=111),__append("    "),__line=112,level>=3&&(__append('      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    '),__line=116),__append("    "),__line=117,10===level&&(__append('      <block id="draw-width" type="draw_width_inline" x="158" y="67">\n        <title name="WIDTH">1</title>\n      </block>\n    '),__line=121),__append("  "),__line=122):2===page||3===page?(__append("    "),__line=123,__append('    <category id="actions" name="'),__line=124,__append(escape(msg.catTurtle())),__append('">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      '),__line=132,2===page&&level>=8&&(__append('        <block type="jump">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">50</title>\n            </block>\n          </value>\n        </block>\n      '),__line=140),__append('      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      '),__line=148,10===level&&(__append('        <block id="draw-width" type="draw_width_inline">\n          <title name="WIDTH">1</title>\n        </block>\n      '),__line=152),__append("    </category>\n    "),__line=154,__append('    <category name="'),__line=155,__append(escape(msg.catColour())),__append('">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    '),__line=167,__append("    "),__line=168,2===page&&level>=2?(__append('      <category name="'),__line=169,__append(escape(msg.catProcedures())),__append('">\n        <block type="draw_a_square" inline="true">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n        </block>\n        '),__line=177,level>=8&&(__append('          <block type="draw_a_snowman" inline="true">\n            <value name="VALUE">\n              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            </value>\n          </block>\n        '),__line=185),__append("      </category>\n    "),__line=187):3===page&&(__append("      "),__line=188,1===level?(__append("        "),__line=189,__append('        <category name="'),__line=190,__append(escape(msg.catProcedures())),__append('">\n          <block type="procedures_callnoreturn">\n            <mutation name="'),__line=192,__append(escape(msg.drawACircle())),__append('"></mutation>\n          </block>\n          <block type="procedures_callnoreturn">\n            <mutation name="'),__line=195,__append(escape(msg.drawASquare())),__append('"></mutation>\n          </block>\n        </category>\n      '),__line=198):(__append('\n        <category name="'),__line=199,__append(escape(msg.catProcedures())),__append('" custom="PROCEDURE"></category>\n      '),__line=200),__append("    "),__line=201),__append("    "),__line=202,__append('    <category name="'),__line=203,__append(escape(msg.catControl())),__append('">\n      '),__line=204,(2===page&&level>=6||3===page&&level>=9)&&(__append('        <block type="controls_for_counter">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      '),__line=222),__append('      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    </category>\n    '),__line=227,__append('    <category name="'),__line=228,__append(escape(msg.catMath())),__append('">\n      <block type="math_number"></block>\n      '),__line=230,10===level&&(__append('        <block type="math_arithmetic" inline="true"></block>\n        <block type="math_random_int">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n    '),__line=245),__append("    </category>\n    "),__line=247,__append("    "),__line=248,__append("    "),__line=249,2===page&&level>=6?(__append('      <category name="'),__line=250,__append(escape(msg.catVariables())),__append('">\n        <block type="variables_get_counter"></block>\n      </category>\n    '),__line=253):3===page&&level>=6&&level<10?(__append('      <category name="'),__line=254,__append(escape(msg.catVariables())),__append('">\n        '),__line=255,level>=9&&(__append('          <block type="variables_get_counter"></block>\n        '),__line=257),__append("        "),__line=258,level>=6&&(__append('          <block type="variables_get_length"></block>\n        '),__line=260),__append("      </category>\n    "),__line=262):3===page&&10===level&&(__append('      <category name="'),__line=263,__append(escape(msg.catVariables())),__append('" custom="VARIABLE">\n      </category>\n    '),__line=265),__append("  "),__line=266):4===page?(__append("    "),__line=267,__append('    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant">\n      <title name="VALUE">90</title>\n    </block>\n    '),__line=272,11===level&&(__append('    <block id="draw-width" type="draw_width_inline">\n      <title name="WIDTH">1</title>\n    </block>\n    '),__line=276),__append("    "),__line=277,__append('    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_picker"></block>\n      </value>\n    </block>\n    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n    </block>\n    <block type="controls_repeat">\n      <title name="TIMES">4</title>\n    </block>\n  '),__line=291):5===page&&(__append("  "),__line=292,__append("    "),__line=293,7===level&&(__append('      <category name="K1 Simplified">\n        <block type="controls_repeat_simplified">\n          <title name="TIMES">5</title>\n        </block>\n        <block type="draw_colour_simple"></block>\n        <block type="simple_move_up"></block>\n        <block type="simple_move_down"></block>\n        <block type="simple_move_left"></block>\n        <block type="simple_move_right"></block>\n        <block type="simple_move_up_length"></block>\n        <block type="simple_move_down_length"></block>\n        <block type="simple_move_left_length"></block>\n        <block type="simple_move_right_length"></block>\n        <block type="simple_jump_up"></block>\n        <block type="simple_jump_down"></block>\n        <block type="simple_jump_left"></block>\n        <block type="simple_jump_right"></block>\n      </category>\n    '),__line=312),__append("    "),__line=313,__append('    <category id="actions" name="'),__line=314,__append(escape(msg.catTurtle())),__append('">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="jump">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">50</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_pen"></block>\n      <block id="draw-width" type="draw_width_inline">\n        <title name="WIDTH">1</title>\n      </block>\n    </category>\n    '),__line=341,__append('    <category name="'),__line=342,__append(escape(msg.catColour())),__append('">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    '),__line=354,__append('    <category name="'),__line=355,__append(escape(msg.catProcedures())),__append('" custom="PROCEDURE"></category>\n    '),__line=356,7===level&&(__append('    <category name="Prebuilt">\n      <block type="draw_a_triangle"></block>\n      <block type="draw_a_square_custom"></block>\n      <block type="draw_a_house"></block>\n      <block type="draw_a_flower"></block>\n      <block type="draw_a_snowflake"></block>\n      <block type="draw_a_snowman"></block>\n      <block type="draw_a_hexagon"></block>\n      <block type="draw_a_star"></block>\n      <block type="draw_a_robot"></block>\n      <block type="draw_a_rocket"></block>\n      <block type="draw_a_planet"></block>\n      <block type="draw_a_rhombus"></block>\n      <block type="draw_upper_wave"></block>\n      <block type="draw_lower_wave"></block>\n    </category>\n    '),__line=373),__append("    "),__line=374,__append('    <category name="'),__line=375,__append(escape(msg.catControl())),__append('">\n      <block type="controls_for_counter">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n        <value name="BY">\n          <block type="math_number">\n            <title name="NUM">10</title>\n          </block>\n        </value>\n      </block>\n      '),__line=393,level<6?(__append('        <block type="controls_repeat">\n          <title name="TIMES">4</title>\n        </block>\n      '),__line=397):(__append('        <block type="controls_repeat_ext">\n          <value name="TIMES">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      '),__line=405),__append("    </category>\n  "),__line=407,__append('    <category name="'),__line=408,__append(escape(msg.catLogic())),__append('">\n      <block type="controls_if"></block>\n      <block type="logic_compare"></block>\n      <block type="logic_operation"></block>\n      <block type="logic_negate"></block>\n      <block type="logic_boolean"></block>\n      <block type="logic_null"></block>\n      <block type="logic_ternary"></block>\n    </category>\n    '),__line=417,__append('    <category name="'),__line=418,__append(escape(msg.catMath())),__append('">\n      <block type="math_number"></block>\n      <block type="math_arithmetic" inline="true"></block>\n      <block type="math_random_int">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n     </category>\n    '),__line=435,__append('    <category name="'),__line=436,__append(escape(msg.catVariables())),__append('" custom="VARIABLE">\n    </category>\n  '),__line=438),__append("</xml>\n"),__line=440}return __output.join("")}catch(e){rethrow(e,'<%\n\nvar msg = require(\'./locale\');\n// An early hack introduced some levelbuilder levels as page 5, level 7. Long\n// term we can probably do something much cleaner, but for now I\'m calling\n// out that this level is special (on page 5).\nvar LEVELBUILDER_LEVEL = 7;\n\n/*\nTOOLBOX.\n\nPAGE 1\n======\nWithin this page, blocks are only added, never taken away.\n\nLevel 1 [el]: Adds draw_move_by_constant and draw_turn_by_constant.\nLevel 2 [coloured square]: Adds draw_colour with colour_picker.\nlevel 3 [square in three blocks]: Adds controls_repeat.\nlevel 4 [triangle] Adds draw_colour with colour_random.\nLevel 5 [overlapping square and triangle (sideways envelope)]\nLevel 6 [envelope]\nLevel 7 [glasses]\nLevel 8 [spikes]\nLevel 9 [circle]\nLevel 10 [free play]: draw_width_inline\n\nPAGE 2\n======\nCategories are introduced, with contents of:\n- Actions\n  - draw_move with math_number\n  - draw_turn with math_number\n- Color\n  - draw_colour (set colour) with colour_picker\n  - draw_colour (set colour) with colour_random\n- Functions (added at level 2)\n  - [call] draw a square\n  - [call] draw a snowball (added at level 9)\n- Loops\n  - controls_repeat\n  - controls_for (added at level 6)\n- Math\n  - math_number\n- Variables (added at level 6)\n  - get counter (added at level 9)\n  - get height (added at level 7)\n  - get length (levels 6 and 10)\nLevel 1 [square]\nLevel 2 [square by function call]: add "draw a square"\nLevel 3 [3 squares]\nLevel 4 [36 squares]\nLevel 5 [nested squares without controls_for]\nLevel 6 [nested squares with controls_for]\nLevel 7 [mini-spiral]\nLevel 8 [3 snowmen]: add "draw a snowman"\nLevel 9 [snowman family]\nLevel 10 [free play]\n\nPAGE 3\n======\nCategories are used, with contents of:\n- Actions\n  - draw_move with math_number\n  - draw_turn with math_number\n- Color\n  - draw_colour (set colour) with colour_picker\n  - draw_colour (set colour) with colour_random\n- Functions (Replaced with custom category at level 2)\n  - [call] draw a circle\n  - [call] draw a square\n- Loops\n  - controls_for\n  - controls_repeat\n- Math\n  - math_number\n- Variables (added at level 6)\n  - get counter\nVariables and functions are manually added until Levels 7 and 8,\nwhen the custom categories are used\nLevel 1 [call "draw a square"]\nLevel 2 [create and call "draw a triangle"]\nLevel 3 [use "draw a square" and "draw a triangle" to fence animals]\nLevel 4 [draw a house]\nLevel 5 [create and call "draw a house"]\nLevel 6 [add parameter to "draw a triangle"]\nLevel 7 [add parameter to "draw a house"]\nLevel 8 [modify end location of "create a house"]\nLevel 9 [call "draw a house" with for loop]\nLevel 10 [free play]\n\n*/ -%>\n<xml id="toolbox" style="display: none;">\n  <% if (page === 1) { -%>\n    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant<% if (level <= 8) { %>_restricted<% } %>">\n      <title name="VALUE">90</title>\n    </block>\n    <% if (level >= 2) { -%>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n    <% } -%>\n    <% if (level >= 4) { /* Out of numeric order to make colour blocks adjacent. */ -%>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    <% } -%>\n    <% if (level >= 3) { -%>\n      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    <% } -%>\n    <% if (level === 10) { -%>\n      <block id="draw-width" type="draw_width_inline" x="158" y="67">\n        <title name="WIDTH">1</title>\n      </block>\n    <% } -%>\n  <% } else if (page === 2 || page === 3) { -%>\n    <% // Actions: draw_move, draw_turn. -%>\n    <category id="actions" name="<%= msg.catTurtle() %>">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <% if (page === 2 && level >= 8) { -%>\n        <block type="jump">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">50</title>\n            </block>\n          </value>\n        </block>\n      <% } -%>\n      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      <% if (level === 10) { -%>\n        <block id="draw-width" type="draw_width_inline">\n          <title name="WIDTH">1</title>\n        </block>\n      <% } -%>\n    </category>\n    <% // Colour: draw_colour with colour_picker and colour_random. -%>\n    <category name="<%= msg.catColour() %>">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    <% // Functions differ depending on page and locals.level. -%>\n    <% if (page === 2 && level >= 2) { -%>\n      <category name="<%= msg.catProcedures() %>">\n        <block type="draw_a_square" inline="true">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n        </block>\n        <% if (level >= 8) { -%>\n          <block type="draw_a_snowman" inline="true">\n            <value name="VALUE">\n              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            </value>\n          </block>\n        <% } -%>\n      </category>\n    <% } else if (page === 3) { -%>\n      <% if (level === 1) { -%>\n        <% // Don\'t use custom category yet, since it allows function definition. -%>\n        <category name="<%= msg.catProcedures() %>">\n          <block type="procedures_callnoreturn">\n            <mutation name="<%= msg.drawACircle() %>"></mutation>\n          </block>\n          <block type="procedures_callnoreturn">\n            <mutation name="<%= msg.drawASquare() %>"></mutation>\n          </block>\n        </category>\n      <% } else { %>\n        <category name="<%= msg.catProcedures() %>" custom="PROCEDURE"></category>\n      <% } -%>\n    <% } -%>\n    <% // Control: controls_for_counter (from page 2, level 6) and repeat. -%>\n    <category name="<%= msg.catControl() %>">\n      <% if ((page === 2 && level >= 6) || (page === 3 && level >= 9)) { -%>\n        <block type="controls_for_counter">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      <% } -%>\n      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    </category>\n    <% // Math: Just number blocks until final locals.level. -%>\n    <category name="<%= msg.catMath() %>">\n      <block type="math_number"></block>\n      <% if (level === 10) { -%>\n        <block type="math_arithmetic" inline="true"></block>\n        <block type="math_random_int">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n    <% } -%>\n    </category>\n    <% // Variables depends on page and level, although we never use the custom category -%>\n    <% // because we want to offer simplified getters and no setters. -%>\n    <% if (page === 2 && level >= 6) { -%>\n      <category name="<%= msg.catVariables() %>">\n        <block type="variables_get_counter"></block>\n      </category>\n    <% } else if (page === 3 && level >= 6 && level < 10) { -%>\n      <category name="<%= msg.catVariables() %>">\n        <% if (level >= 9) { -%>\n          <block type="variables_get_counter"></block>\n        <% } -%>\n        <% if (level >= 6) { -%>\n          <block type="variables_get_length"></block>\n        <% } -%>\n      </category>\n    <% } else if (page === 3 && level === 10) { -%>\n      <category name="<%= msg.catVariables() %>" custom="VARIABLE">\n      </category>\n    <% } -%>\n  <% } else if (page === 4) { -%>\n    <% // Actions: draw_move, draw_turn. -%>\n    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant">\n      <title name="VALUE">90</title>\n    </block>\n    <% if (level === 11) { -%>\n    <block id="draw-width" type="draw_width_inline">\n      <title name="WIDTH">1</title>\n    </block>\n    <% } -%>\n    <% // Colour: draw_colour with colour_picker and colour_random. -%>\n    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_picker"></block>\n      </value>\n    </block>\n    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n    </block>\n    <block type="controls_repeat">\n      <title name="TIMES">4</title>\n    </block>\n  <% } else if (page === 5) { -%>\n  <% // K1 simplified blocks for editor: keep in sync with Dashboard artist.rb -%>\n    <% if (level === LEVELBUILDER_LEVEL) { -%>\n      <category name="K1 Simplified">\n        <block type="controls_repeat_simplified">\n          <title name="TIMES">5</title>\n        </block>\n        <block type="draw_colour_simple"></block>\n        <block type="simple_move_up"></block>\n        <block type="simple_move_down"></block>\n        <block type="simple_move_left"></block>\n        <block type="simple_move_right"></block>\n        <block type="simple_move_up_length"></block>\n        <block type="simple_move_down_length"></block>\n        <block type="simple_move_left_length"></block>\n        <block type="simple_move_right_length"></block>\n        <block type="simple_jump_up"></block>\n        <block type="simple_jump_down"></block>\n        <block type="simple_jump_left"></block>\n        <block type="simple_jump_right"></block>\n      </category>\n    <% } -%>\n    <% // Actions: draw_move, draw_turn. -%>\n    <category id="actions" name="<%= msg.catTurtle() %>">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="jump">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">50</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_pen"></block>\n      <block id="draw-width" type="draw_width_inline">\n        <title name="WIDTH">1</title>\n      </block>\n    </category>\n    <% // Colour: draw_colour with colour_picker and colour_random. -%>\n    <category name="<%= msg.catColour() %>">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    <% // Functions -%>\n    <category name="<%= msg.catProcedures() %>" custom="PROCEDURE"></category>\n    <% if (level === LEVELBUILDER_LEVEL) { -%>\n    <category name="Prebuilt">\n      <block type="draw_a_triangle"></block>\n      <block type="draw_a_square_custom"></block>\n      <block type="draw_a_house"></block>\n      <block type="draw_a_flower"></block>\n      <block type="draw_a_snowflake"></block>\n      <block type="draw_a_snowman"></block>\n      <block type="draw_a_hexagon"></block>\n      <block type="draw_a_star"></block>\n      <block type="draw_a_robot"></block>\n      <block type="draw_a_rocket"></block>\n      <block type="draw_a_planet"></block>\n      <block type="draw_a_rhombus"></block>\n      <block type="draw_upper_wave"></block>\n      <block type="draw_lower_wave"></block>\n    </category>\n    <% } -%>\n    <% // Control: controls_for_counter and repeat. -%>\n    <category name="<%= msg.catControl() %>">\n      <block type="controls_for_counter">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n        <value name="BY">\n          <block type="math_number">\n            <title name="NUM">10</title>\n          </block>\n        </value>\n      </block>\n      <% if (level < 6) { -%>\n        <block type="controls_repeat">\n          <title name="TIMES">4</title>\n        </block>\n      <% } else { -%>\n        <block type="controls_repeat_ext">\n          <value name="TIMES">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      <% } -%>\n    </category>\n  <% // Logic -%>\n    <category name="<%= msg.catLogic() %>">\n      <block type="controls_if"></block>\n      <block type="logic_compare"></block>\n      <block type="logic_operation"></block>\n      <block type="logic_negate"></block>\n      <block type="logic_boolean"></block>\n      <block type="logic_null"></block>\n      <block type="logic_ternary"></block>\n    </category>\n    <% // Math: Just number blocks until final locals.level. -%>\n    <category name="<%= msg.catMath() %>">\n      <block type="math_number"></block>\n      <block type="math_arithmetic" inline="true"></block>\n      <block type="math_random_int">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n     </category>\n    <% // Variables -%>\n    <category name="<%= msg.catVariables() %>" custom="VARIABLE">\n    </category>\n  <% } -%>\n</xml>\n',"src/turtle/toolbox.xml.ejs",__line)}}},3333:function(module,exports,__webpack_require__){module.exports=function anonymous(locals,escape,include,rethrow){function encode_char(e){return _ENCODE_HTML_RULES[e]||e}rethrow=rethrow||function(e,t,n,l){var a=t.split("\n"),o=Math.max(l-3,0),i=Math.min(a.length,l+3),r=a.slice(o,i).map(function(e,t){var n=t+o+1;return(n==l?" >> ":"    ")+n+"| "+e}).join("\n");throw e.path=n,e.message=(n||"ejs")+":"+l+"\n"+r+"\n\n"+e.message,e},escape=escape||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__line=1,__lines='<%\n\nvar msg = require(\'./locale\');\n\n/**\n * Common code for creating procedures drawing different regular polygons.\n * options:\n *   title Title of procedure.\n *   modifiers String containing any optional keys and values for the initial\n *             <block> tag, such as \'x="20" y="20" editable="false"\'.\n *   sides Number of sides.\n *   length 0 if a length parameter should be used, a positive number otherwise\n */\nvar polygon = function(options) {\n-%>\n<block type="procedures_defnoreturn" <%- options.modifiers %>>\n    <mutation>\n      <% if (options.length === 0) { -%>\n        <arg name="<%= msg.lengthParameter() %>"></arg>\n      <% } -%>\n    </mutation>\n    <title name="NAME"><%= options.title %></title>\n    <statement name="STACK">\n      <block type="controls_repeat" <%- options.modifiers %>>\n        <title name="TIMES"><%= options.sides %></title>\n        <statement name="DO">\n          <block type="draw_move" <%- options.modifiers %>>\n            <value name="VALUE">\n              <% if (options.length === 0) { -%>\n                <block type="variables_get_length" <%- options.modifiers %>></block>\n              <% } else { -%>\n                <block type="math_number" <%- options.modifiers %>>\n                  <title name="NUM"><%= options.length %></title>\n                </block>\n              <% } -%>\n            </value>\n            <next>\n              <block type="draw_turn" <%- options.modifiers %>>\n                <value name="VALUE">\n                  <block type="math_number" <%- options.modifiers %>>\n                    <title name="NUM"><%= 360 / options.sides %></title>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>\n<% }; -%>\n\n<%\n/**\n * Spiral needs a named helper template for recursion.\n * @param i Loop control variable.\n */\nvar spiral = function(i) {\n-%>\n  <% if (i <= 60) { -%>\n    <block type="draw_move" <% if (i === 25) { %>x="300" y="100"<% } %> inline="false" editable="false" deletable="false" disabled="true">\n      <title name="DIR">moveForward</title>\n      <value name="VALUE">\n        <block type="math_number" editable="false" deletable="false" disabled="true">\n          <title name="NUM"><%= i %></title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_turn" inline="false" editable="false" deletable="false" disabled="true">\n          <title name="DIR">turnRight</title>\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false" disabled="true">\n              <title name="NUM">90</title>\n            </block>\n          </value>\n          <next>\n            <% spiral(i + 5) -%>\n          </next>\n        </block>\n      </next>\n    </block>\n  <% } %>\n<% }; -%>\n\n<%\n/**\n * Define the starting blocks for each page and locals.level.\n * These are referenced from turtle.js.\n */\n%>\n<% if (page === 1) { -%>\n  <% if (level === 1) { -%>\n    <block type="draw_move_by_constant" x="20" y="20"></block>\n  <% } else if (level === 2) { -%>\n    <block type="draw_colour" inline="true" x="20" y="20">\n      <value name="COLOUR">\n        <block type="colour_picker">\n          <title name="COLOUR">#ff0000</title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant"></block>\n      </next>\n    </block>\n  <% } else if (level === 4) { -%>\n    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES">3</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 3 || level === 5 || level === 6) { -%>\n    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES"><% if (level === 3) { %>4<% } else { %>3<% } %></title>\n    </block>\n  <% } else if (level === 7) { -%>\n    <block type="draw_turn_by_constant_restricted" x="20" y="20">\n      <title name="DIR">turnRight</title>\n      <title name="VALUE">90</title>\n    </block>\n  <% } else if (level === 8) { -%>\n    <block id="set-color" type="draw_colour" x="20" y="100">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant">\n          <title name="DIR">moveForward</title>\n          <title name="VALUE">100</title>\n          <next>\n            <block type="draw_move_by_constant">\n              <title name="DIR">moveBackward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">45</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 9) { -%>\n    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">??</title>\n      <statement name="DO">\n        <block type="draw_move" editable="false" deletable="false">\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <next>\n            <block type="draw_turn" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" editable="false" deletable="false">\n                  <title name="NUM">1</title>\n                </block>\n              </value>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 10) { -%>\n    <block type="draw_move_by_constant" x="20" y="20">\n      <title name="DIR">moveForward</title>\n      <title name="VALUE">100</title>\n    </block>\n  <% } -%>\n<% } else if (page === 2) { -%>\n  <% // No blocks are provided for levels 1 and 2. -%>\n  <% if (level === 3 || level === 5) { -%>\n    <% // Call "draw a square". -%>\n    <block type="draw_a_square" inline="true" x="20" y="20">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM"><% if (level === 3) { %>100<% } else { %>50<% } %></title>\n        </block>\n      </value>\n    </block>\n  <% } else if (level === 4) { -%>\n    <% // Three-square code. -%>\n    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block id="set-color" type="draw_colour" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" deletable="false">\n            </block>\n          </value>\n          <next>\n            <block type="draw_a_square" inline="true" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" deletable="false">\n                  <title name="NUM">???</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" editable="false" deletable="false">\n                  <value name="VALUE">\n                    <block type="math_number" deletable="false">\n                      <title name="NUM">???</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 6) { -%>\n    <block type="controls_for_counter" inline="true" x="20" y="20">\n    <title name="VAR"><%= msg.loopVariable() %></title>\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM"><% if (level === 6) { %>50<% } else { %>10<% } %></title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM"><% if (level === 6) { %>90<% } else { %>100<% } %></title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">10</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_a_square" inline="true">\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 7) { -%>\n    <% spiral(25) -%>\n  <% } else if (level === 7.5) { -%>\n    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">250</title>\n        </block>\n      </value>\n    </block>\n  <% } else if (level === 8 || level === 9) { -%>\n    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">150</title>\n        </block>\n      </value>\n    </block>\n  <% } else if (level === 10) { -%>\n    <block id="draw-width" type="draw_width_inline" x="158" y="67">\n      <title name="WIDTH">1</title>\n      <next>\n        <block type="controls_for_counter" inline="true">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <statement name="DO">\n            <block type="draw_move" inline="false">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get_counter"></block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="false">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">91</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  <% } -%>\n<% } else if (page === 3) { -%>\n  <% // Define "draw a square". -%>\n  <%- polygon({\n    title: msg.drawASquare(),\n    modifiers: (level === 8 ? \'\' : \'x="220" y="40"\') + \' editable="false" deletable="false"\',\n    sides: 4,\n    length: (level >= 6 ? 0 : 100)\n  }) -%>\n  <% if (level === 1) { -%>\n    <% // Define "draw a circle". -%>\n    <%- polygon({\n      title: msg.drawACircle(),\n      modifiers: \'x="220" y="250" editable="false" deletable="false"\',\n      sides: 360,\n      length: 1\n    }) -%>\n  <% } -%>\n  <% if (level === 2) { -%>\n    <block type="procedures_defnoreturn" x="220" y="250">\n      <title name="NAME"><%= msg.drawATriangle() %></title>\n    </block>\n  <% } else if (level >= 3) { -%>\n    <% //  Define "draw a triangle". -%>\n    <%- polygon({\n      title: msg.drawATriangle(),\n      modifiers: (level === 8 ? \'\' : \'x="220" y="250"\') + (level === 6 ? \'\' : \' editable="false" deletable="false"\'),\n      sides: 3,\n      length: (level >= 7 ? 0 : 100)\n    }) -%>\n  <% } -%>\n  <% if (level === 8 ) { -%>\n    <block type="procedures_callnoreturn" inline="false">\n      <mutation name="<%= msg.drawAHouse() %>">\n        <arg name="<%= msg.lengthParameter() %>"></arg>\n      </mutation>\n        <value name="ARG0">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n    </block>\n  <% } -%>\n  <% if (level === 7 || level === 8) { -%>\n    <% //  Define "draw a house". -%>\n    <block type="procedures_defnoreturn" <% if (level === 7) { -%>x="220" y="460"<% } -%>>\n      <mutation>\n        <% if (level === 8) { %><arg name="<%= msg.lengthParameter() %>"></arg><% } -%>\n      </mutation>\n      <title name="NAME"><%= msg.drawAHouse() %></title>\n      <statement name="STACK">\n        <block type="procedures_callnoreturn" inline="false">\n          <mutation name="<%= msg.drawASquare() %>">\n            <arg name="<%= msg.lengthParameter() %>"/>\n          </mutation>\n          <value name="ARG0">\n            <% if (level === 8) { -%>\n              <block type="variables_get">\n                <title name="VAR"><%= msg.lengthParameter() %></title>\n              </block>\n            <% } else { -%>\n              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            <% } -%>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <% if (level === 8) { -%>\n                  <block type="variables_get">\n                    <title name="VAR"><%= msg.lengthParameter() %></title>\n                  </block>\n                <% } else { -%>\n                  <block type="math_number">\n                    <title name="NUM">100</title>\n                  </block>\n                <% } -%>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">30</title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="procedures_callnoreturn" inline="false">\n                      <mutation name="<%= msg.drawATriangle() %>">\n                        <arg name="<%= msg.lengthParameter() %>"></arg>\n                      </mutation>\n                      <value name="ARG0">\n                        <% if (level === 8) { -%>\n                          <block type="variables_get">\n                            <title name="VAR"><%= msg.lengthParameter() %></title>\n                          </block>\n                        <% } else { -%>\n                          <block type="math_number">\n                            <title name="NUM">100</title>\n                          </block>\n                        <% } -%>\n                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } // End of region in which "draw a square" is defined. -%>\n<% } else if (page === 4) { -%>\n  <% if (level === 2) { -%>\n    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false" movable="true">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false" movable="true">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_colour" inline="true" x="70" y="230" editable="false" deletable="false" movable="true">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false" movable="true">\n                  <title name="TIMES">3</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">100</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">120</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 3) { -%>\n    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 4) { -%>\n    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">36</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 5) { -%>\n    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">36</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">???</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 7) { -%>\n    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">4</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">20</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">90</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 8) { -%>\n    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">4</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">90</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 9) { -%>\n    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">4</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 10) { -%>\n    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant" editable="false" deletable="false">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">80</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 11) { -%>\n    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="controls_repeat">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } -%>\n<% } else if (page === 5) { -%>\n  <% if (level === 1) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">200</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.loopVariable() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">90</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 2) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.loopVariable() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">121</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 3) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.loopVariable() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">134</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 4) { -%>\n    <block type="controls_repeat" x="70" y="20">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="procedures_callnoreturn" inline="false">\n              <mutation name="<%= msg.drawACircle() %>">\n                <arg name="<%= msg.step() %>"></arg>\n              </mutation>\n              <value name="ARG0">\n                <block type="math_number">\n                  <title name="NUM">6</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">36</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="270">\n      <mutation>\n        <arg name="<%= msg.step() %>"></arg>\n      </mutation>\n      <title name="NAME"><%= msg.drawACircle() %></title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.step() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 5) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="20">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">8</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="procedures_callnoreturn" inline="false">\n                  <mutation name="<%= msg.drawACircle() %>">\n                    <arg name="<%= msg.step() %>"></arg>\n                  </mutation>\n                  <value name="ARG0">\n                    <block type="variables_get">\n                      <title name="VAR"><%= msg.loopVariable() %></title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="draw_turn" inline="true">\n                      <title name="DIR">turnRight</title>\n                      <value name="VALUE">\n                        <block type="math_number">\n                          <title name="NUM">36</title>\n                        </block>\n                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="320">\n      <mutation>\n        <arg name="<%= msg.step() %>"></arg>\n      </mutation>\n      <title name="NAME"><%= msg.drawACircle() %></title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.step() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 6) { -%>\n    <block type="procedures_callnoreturn" inline="false" x="70" y="20">\n      <mutation name="<%= msg.drawATree() %>">\n        <arg name="<%= msg.depth() %>"></arg>\n        <arg name="<%= msg.branches() %>"></arg>\n      </mutation>\n      <value name="ARG0">\n        <block type="math_number">\n          <title name="NUM">9</title>\n        </block>\n      </value>\n      <value name="ARG1">\n        <block type="math_number">\n          <title name="NUM">2</title>\n        </block>\n      </value>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="190">\n      <mutation>\n        <arg name="<%= msg.depth() %>"></arg>\n        <arg name="<%= msg.branches() %>"></arg>\n      </mutation>\n      <title name="NAME"><%= msg.drawATree() %></title>\n      <statement name="STACK">\n        <block type="controls_if" inline="false">\n          <value name="IF0">\n            <block type="logic_compare" inline="true">\n              <title name="OP">GT</title>\n              <value name="A">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.depth() %></title>\n                </block>\n              </value>\n              <value name="B">\n                <block type="math_number">\n                  <title name="NUM">0</title>\n                </block>\n              </value>\n            </block>\n          </value>\n          <statement name="DO0">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="draw_pen">\n                  <title name="PEN">penDown</title>\n                  <next>\n                    <block type="draw_move" inline="true">\n                      <title name="DIR">moveForward</title>\n                      <value name="VALUE">\n                        <block type="math_arithmetic" inline="true">\n                          <title name="OP">MULTIPLY</title>\n                          <value name="A">\n                            <block type="math_number">\n                              <title name="NUM">7</title>\n                            </block>\n                          </value>\n                          <value name="B">\n                            <block type="variables_get">\n                              <title name="VAR"><%= msg.depth() %></title>\n                            </block>\n                          </value>\n                        </block>\n                      </value>\n                      <next>\n                        <block type="draw_turn" inline="true">\n                          <title name="DIR">turnLeft</title>\n                          <value name="VALUE">\n                            <block type="math_number">\n                              <title name="NUM">130</title>\n                            </block>\n                          </value>\n                          <next>\n                            <block type="controls_repeat_ext" inline="true">\n                              <value name="TIMES">\n                                <block type="variables_get">\n                                  <title name="VAR"><%= msg.branches() %></title>\n                                </block>\n                              </value>\n                              <statement name="DO">\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnRight</title>\n                                  <value name="VALUE">\n                                    <block type="math_arithmetic" inline="true">\n                                      <title name="OP">DIVIDE</title>\n                                      <value name="A">\n                                        <block type="math_number">\n                                          <title name="NUM">180</title>\n                                        </block>\n                                      </value>\n                                      <value name="B">\n                                        <block type="variables_get">\n                                          <title name="VAR"><%= msg.branches() %></title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="procedures_callnoreturn" inline="false">\n                                      <mutation name="<%= msg.drawATree() %>">\n                                        <arg name="<%= msg.depth() %>"></arg>\n                                        <arg name="<%= msg.branches() %>"></arg>\n                                      </mutation>\n                                      <value name="ARG0">\n                                        <block type="math_arithmetic" inline="true">\n                                          <title name="OP">MINUS</title>\n                                          <value name="A">\n                                            <block type="variables_get">\n                                              <title name="VAR"><%= msg.depth() %></title>\n                                            </block>\n                                          </value>\n                                          <value name="B">\n                                            <block type="math_number">\n                                              <title name="NUM">1</title>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </value>\n                                      <value name="ARG1">\n                                        <block type="variables_get">\n                                          <title name="VAR"><%= msg.branches() %></title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </next>\n                                </block>\n                              </statement>\n                              <next>\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnLeft</title>\n                                  <value name="VALUE">\n                                    <block type="math_number">\n                                      <title name="NUM">50</title>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="draw_pen">\n                                      <title name="PEN">penUp</title>\n                                      <next>\n                                        <block type="draw_move" inline="true">\n                                          <title name="DIR">moveBackward</title>\n                                          <value name="VALUE">\n                                            <block type="math_arithmetic" inline="true">\n                                              <title name="OP">MULTIPLY</title>\n                                              <value name="A">\n                                                <block type="math_number">\n                                                  <title name="NUM">7</title>\n                                                </block>\n                                              </value>\n                                              <value name="B">\n                                                <block type="variables_get">\n                                                  <title name="VAR"><%= msg.depth() %></title>\n                                                </block>\n                                              </value>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </next>\n                                    </block>\n                                  </next>\n                                </block>\n                              </next>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  <% } -%>\n<% } -%>\n',__filename="src/turtle/startBlocks.xml.ejs";try{var __output=[],__append=__output.push.bind(__output);with(locals||{}){var msg=__webpack_require__(1744),polygon=function(e){__line=15,__append('<block type="procedures_defnoreturn" '),__line=16,__append(e.modifiers),__append(">\n    <mutation>\n      "),__line=18,0===e.length&&(__append('        <arg name="'),__line=19,__append(escape(msg.lengthParameter())),__append('"></arg>\n      '),__line=20),__append('    </mutation>\n    <title name="NAME">'),__line=22,__append(escape(e.title)),__append('</title>\n    <statement name="STACK">\n      <block type="controls_repeat" '),__line=24,__append(e.modifiers),__append('>\n        <title name="TIMES">'),__line=25,__append(escape(e.sides)),__append('</title>\n        <statement name="DO">\n          <block type="draw_move" '),__line=27,__append(e.modifiers),__append('>\n            <value name="VALUE">\n              '),__line=29,0===e.length?(__append('                <block type="variables_get_length" '),__line=30,__append(e.modifiers),__append("></block>\n              "),__line=31):(__append('                <block type="math_number" '),__line=32,__append(e.modifiers),__append('>\n                  <title name="NUM">'),__line=33,__append(escape(e.length)),__append("</title>\n                </block>\n              "),__line=35),__append('            </value>\n            <next>\n              <block type="draw_turn" '),__line=38,__append(e.modifiers),__append('>\n                <value name="VALUE">\n                  <block type="math_number" '),__line=40,__append(e.modifiers),__append('>\n                    <title name="NUM">'),__line=41,__append(escape(360/e.sides)),__append("</title>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>\n"),__line=51};__append("\n"),__line=53;var spiral=function(e){__line=59,__append("  "),__line=60,e<=60&&(__append('    <block type="draw_move" '),__line=61,25===e&&__append('x="300" y="100"'),__append(' inline="false" editable="false" deletable="false" disabled="true">\n      <title name="DIR">moveForward</title>\n      <value name="VALUE">\n        <block type="math_number" editable="false" deletable="false" disabled="true">\n          <title name="NUM">'),__line=65,__append(escape(e)),__append('</title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_turn" inline="false" editable="false" deletable="false" disabled="true">\n          <title name="DIR">turnRight</title>\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false" disabled="true">\n              <title name="NUM">90</title>\n            </block>\n          </value>\n          <next>\n            '),__line=77,spiral(e+5),__append("          </next>\n        </block>\n      </next>\n    </block>\n  "),__line=82),__append("\n"),__line=83};__append("\n"),__line=85,__line=90,__append("\n"),__line=91,1===page?(__append("  "),__line=92,1===level?(__append('    <block type="draw_move_by_constant" x="20" y="20"></block>\n  '),__line=94):2===level?(__append('    <block type="draw_colour" inline="true" x="20" y="20">\n      <value name="COLOUR">\n        <block type="colour_picker">\n          <title name="COLOUR">#ff0000</title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant"></block>\n      </next>\n    </block>\n  '),__line=105):4===level?(__append('    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES">3</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n        </block>\n      </statement>\n    </block>\n  '),__line=116):3===level||5===level||6===level?(__append('    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES">'),__line=118,__append(3===level?"4":"3"),__append("</title>\n    </block>\n  "),__line=120):7===level?(__append('    <block type="draw_turn_by_constant_restricted" x="20" y="20">\n      <title name="DIR">turnRight</title>\n      <title name="VALUE">90</title>\n    </block>\n  '),__line=125):8===level?(__append('    <block id="set-color" type="draw_colour" x="20" y="100">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant">\n          <title name="DIR">moveForward</title>\n          <title name="VALUE">100</title>\n          <next>\n            <block type="draw_move_by_constant">\n              <title name="DIR">moveBackward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">45</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  '),__line=149):9===level?(__append('    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">??</title>\n      <statement name="DO">\n        <block type="draw_move" editable="false" deletable="false">\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <next>\n            <block type="draw_turn" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" editable="false" deletable="false">\n                  <title name="NUM">1</title>\n                </block>\n              </value>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=171):10===level&&(__append('    <block type="draw_move_by_constant" x="20" y="20">\n      <title name="DIR">moveForward</title>\n      <title name="VALUE">100</title>\n    </block>\n  '),__line=176),__line=177):2===page?(__append("  "),__line=178,__append("  "),__line=179,3===level||5===level?(__append("    "),__line=180,__append('    <block type="draw_a_square" inline="true" x="20" y="20">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">'),__line=184,__append(3===level?"100":"50"),__append("</title>\n        </block>\n      </value>\n    </block>\n  "),__line=188):4===level?(__append("    "),__line=189,__append('    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block id="set-color" type="draw_colour" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" deletable="false">\n            </block>\n          </value>\n          <next>\n            <block type="draw_a_square" inline="true" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" deletable="false">\n                  <title name="NUM">???</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" editable="false" deletable="false">\n                  <value name="VALUE">\n                    <block type="math_number" deletable="false">\n                      <title name="NUM">???</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=219):6===level?(__append('    <block type="controls_for_counter" inline="true" x="20" y="20">\n    <title name="VAR">'),__line=221,__append(escape(msg.loopVariable())),__append('</title>\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">'),__line=224,__append(6===level?"50":"10"),__append('</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">'),__line=229,__append(6===level?"90":"100"),__append('</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">10</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_a_square" inline="true">\n        </block>\n      </statement>\n    </block>\n  '),__line=242):7===level?(__append("    "),__line=243,spiral(25),__append("  "),__line=244):7.5===level?(__append('    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">250</title>\n        </block>\n      </value>\n    </block>\n  '),__line=252):8===level||9===level?(__append('    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">150</title>\n        </block>\n      </value>\n    </block>\n  '),__line=260):10===level&&(__append('    <block id="draw-width" type="draw_width_inline" x="158" y="67">\n      <title name="WIDTH">1</title>\n      <next>\n        <block type="controls_for_counter" inline="true">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <statement name="DO">\n            <block type="draw_move" inline="false">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get_counter"></block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="false">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">91</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  '),__line=301),__line=302):3===page?(__append("  "),__line=303,__append("  "),__line=304,__append(polygon({title:msg.drawASquare(),modifiers:(8===level?"":'x="220" y="40"')+' editable="false" deletable="false"',sides:4,length:level>=6?0:100})),__line=309,__append("  "),__line=310,1===level&&(__append("    "),__line=311,__append("    "),__line=312,__append(polygon({title:msg.drawACircle(),modifiers:'x="220" y="250" editable="false" deletable="false"',sides:360,length:1})),__line=317,__append("  "),__line=318),__append("  "),__line=319,2===level?(__append('    <block type="procedures_defnoreturn" x="220" y="250">\n      <title name="NAME">'),__line=321,__append(escape(msg.drawATriangle())),__append("</title>\n    </block>\n  "),__line=323):level>=3&&(__append("    "),__line=324,__append("    "),__line=325,__append(polygon({title:msg.drawATriangle(),modifiers:(8===level?"":'x="220" y="250"')+(6===level?"":' editable="false" deletable="false"'),sides:3,length:level>=7?0:100})),__line=330,__append("  "),__line=331),__append("  "),__line=332,8===level&&(__append('    <block type="procedures_callnoreturn" inline="false">\n      <mutation name="'),__line=334,__append(escape(msg.drawAHouse())),__append('">\n        <arg name="'),__line=335,__append(escape(msg.lengthParameter())),__append('"></arg>\n      </mutation>\n        <value name="ARG0">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n    </block>\n  '),__line=343),__append("  "),__line=344,7!==level&&8!==level||(__append("    "),__line=345,__append('    <block type="procedures_defnoreturn" '),__line=346,7===level&&__append('x="220" y="460"'),__append(">\n      <mutation>\n        "),__line=348,8===level&&(__append('<arg name="'),__append(escape(msg.lengthParameter())),__append('"></arg>')),__append('      </mutation>\n      <title name="NAME">'),__line=350,__append(escape(msg.drawAHouse())),__append('</title>\n      <statement name="STACK">\n        <block type="procedures_callnoreturn" inline="false">\n          <mutation name="'),__line=353,__append(escape(msg.drawASquare())),__append('">\n            <arg name="'),__line=354,__append(escape(msg.lengthParameter())),__append('"/>\n          </mutation>\n          <value name="ARG0">\n            '),__line=357,8===level?(__append('              <block type="variables_get">\n                <title name="VAR">'),__line=359,__append(escape(msg.lengthParameter())),__append("</title>\n              </block>\n            "),__line=361):(__append('              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            '),__line=365),__append('          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                '),__line=371,8===level?(__append('                  <block type="variables_get">\n                    <title name="VAR">'),__line=373,__append(escape(msg.lengthParameter())),__append("</title>\n                  </block>\n                "),__line=375):(__append('                  <block type="math_number">\n                    <title name="NUM">100</title>\n                  </block>\n                '),__line=379),__append('              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">30</title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="procedures_callnoreturn" inline="false">\n                      <mutation name="'),__line=391,__append(escape(msg.drawATriangle())),__append('">\n                        <arg name="'),__line=392,__append(escape(msg.lengthParameter())),__append('"></arg>\n                      </mutation>\n                      <value name="ARG0">\n                        '),__line=395,8===level?(__append('                          <block type="variables_get">\n                            <title name="VAR">'),__line=397,__append(escape(msg.lengthParameter())),__append("</title>\n                          </block>\n                        "),__line=399):(__append('                          <block type="math_number">\n                            <title name="NUM">100</title>\n                          </block>\n                        '),__line=403),__append("                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  "),__line=414),__line=415):4===page?(__append("  "),__line=416,2===level?(__append('    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false" movable="true">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false" movable="true">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_colour" inline="true" x="70" y="230" editable="false" deletable="false" movable="true">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false" movable="true">\n                  <title name="TIMES">3</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">100</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">120</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  '),__line=463):3===level?(__append('    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  '),__line=486):4===level?(__append('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">36</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=520):5===level?(__append('    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">36</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">???</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=554):7===level?(__append('    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">4</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">20</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">90</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  '),__line=577):8===level?(__append('    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">4</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">90</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=611):9===level?(__append('    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">4</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=656):10===level?(__append('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant" editable="false" deletable="false">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">80</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=701):11===level&&(__append('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="controls_repeat">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=746),__line=747):5===page&&(__append("  "),__line=748,1===level?(__append('    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">200</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">'),__line=775,__append(escape(msg.loopVariable())),__append('</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">90</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=793):2===level?(__append('    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">'),__line=820,__append(escape(msg.loopVariable())),__append('</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">121</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=838):3===level?(__append('    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">'),__line=865,__append(escape(msg.loopVariable())),__append('</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">134</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),__line=883):4===level?(__append('    <block type="controls_repeat" x="70" y="20">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="procedures_callnoreturn" inline="false">\n              <mutation name="'),__line=893,__append(escape(msg.drawACircle())),__append('">\n                <arg name="'),__line=894,__append(escape(msg.step())),__append('"></arg>\n              </mutation>\n              <value name="ARG0">\n                <block type="math_number">\n                  <title name="NUM">6</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">36</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="270">\n      <mutation>\n        <arg name="'),__line=918,__append(escape(msg.step())),__append('"></arg>\n      </mutation>\n      <title name="NAME">'),__line=920,__append(escape(msg.drawACircle())),__append('</title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">'),__line=929,__append(escape(msg.step())),__append('</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '),__line=947):5===level?(__append('    <block type="controls_for_counter" inline="true" x="70" y="20">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">8</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="procedures_callnoreturn" inline="false">\n                  <mutation name="'),__line=974,__append(escape(msg.drawACircle())),__append('">\n                    <arg name="'),__line=975,__append(escape(msg.step())),__append('"></arg>\n                  </mutation>\n                  <value name="ARG0">\n                    <block type="variables_get">\n                      <title name="VAR">'),__line=979,__append(escape(msg.loopVariable())),__append('</title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="draw_turn" inline="true">\n                      <title name="DIR">turnRight</title>\n                      <value name="VALUE">\n                        <block type="math_number">\n                          <title name="NUM">36</title>\n                        </block>\n                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="320">\n      <mutation>\n        <arg name="'),__line=1001,__append(escape(msg.step())),__append('"></arg>\n      </mutation>\n      <title name="NAME">'),__line=1003,__append(escape(msg.drawACircle())),__append('</title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">'),__line=1012,__append(escape(msg.step())),__append('</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '),__line=1030):6===level&&(__append('    <block type="procedures_callnoreturn" inline="false" x="70" y="20">\n      <mutation name="'),__line=1032,__append(escape(msg.drawATree())),__append('">\n        <arg name="'),__line=1033,__append(escape(msg.depth())),__append('"></arg>\n        <arg name="'),__line=1034,__append(escape(msg.branches())),__append('"></arg>\n      </mutation>\n      <value name="ARG0">\n        <block type="math_number">\n          <title name="NUM">9</title>\n        </block>\n      </value>\n      <value name="ARG1">\n        <block type="math_number">\n          <title name="NUM">2</title>\n        </block>\n      </value>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="190">\n      <mutation>\n        <arg name="'),__line=1049,__append(escape(msg.depth())),__append('"></arg>\n        <arg name="'),__line=1050,__append(escape(msg.branches())),__append('"></arg>\n      </mutation>\n      <title name="NAME">'),__line=1052,__append(escape(msg.drawATree())),__append('</title>\n      <statement name="STACK">\n        <block type="controls_if" inline="false">\n          <value name="IF0">\n            <block type="logic_compare" inline="true">\n              <title name="OP">GT</title>\n              <value name="A">\n                <block type="variables_get">\n                  <title name="VAR">'),__line=1060,__append(escape(msg.depth())),__append('</title>\n                </block>\n              </value>\n              <value name="B">\n                <block type="math_number">\n                  <title name="NUM">0</title>\n                </block>\n              </value>\n            </block>\n          </value>\n          <statement name="DO0">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="draw_pen">\n                  <title name="PEN">penDown</title>\n                  <next>\n                    <block type="draw_move" inline="true">\n                      <title name="DIR">moveForward</title>\n                      <value name="VALUE">\n                        <block type="math_arithmetic" inline="true">\n                          <title name="OP">MULTIPLY</title>\n                          <value name="A">\n                            <block type="math_number">\n                              <title name="NUM">7</title>\n                            </block>\n                          </value>\n                          <value name="B">\n                            <block type="variables_get">\n                              <title name="VAR">'),__line=1091,__append(escape(msg.depth())),__append('</title>\n                            </block>\n                          </value>\n                        </block>\n                      </value>\n                      <next>\n                        <block type="draw_turn" inline="true">\n                          <title name="DIR">turnLeft</title>\n                          <value name="VALUE">\n                            <block type="math_number">\n                              <title name="NUM">130</title>\n                            </block>\n                          </value>\n                          <next>\n                            <block type="controls_repeat_ext" inline="true">\n                              <value name="TIMES">\n                                <block type="variables_get">\n                                  <title name="VAR">'),__line=1108,__append(escape(msg.branches())),__append('</title>\n                                </block>\n                              </value>\n                              <statement name="DO">\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnRight</title>\n                                  <value name="VALUE">\n                                    <block type="math_arithmetic" inline="true">\n                                      <title name="OP">DIVIDE</title>\n                                      <value name="A">\n                                        <block type="math_number">\n                                          <title name="NUM">180</title>\n                                        </block>\n                                      </value>\n                                      <value name="B">\n                                        <block type="variables_get">\n                                          <title name="VAR">'),__line=1124,__append(escape(msg.branches())),__append('</title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="procedures_callnoreturn" inline="false">\n                                      <mutation name="'),__line=1131,__append(escape(msg.drawATree())),__append('">\n                                        <arg name="'),__line=1132,__append(escape(msg.depth())),__append('"></arg>\n                                        <arg name="'),__line=1133,__append(escape(msg.branches())),__append('"></arg>\n                                      </mutation>\n                                      <value name="ARG0">\n                                        <block type="math_arithmetic" inline="true">\n                                          <title name="OP">MINUS</title>\n                                          <value name="A">\n                                            <block type="variables_get">\n                                              <title name="VAR">'),__line=1140,__append(escape(msg.depth())),__append('</title>\n                                            </block>\n                                          </value>\n                                          <value name="B">\n                                            <block type="math_number">\n                                              <title name="NUM">1</title>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </value>\n                                      <value name="ARG1">\n                                        <block type="variables_get">\n                                          <title name="VAR">'),__line=1152,__append(escape(msg.branches())),__append('</title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </next>\n                                </block>\n                              </statement>\n                              <next>\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnLeft</title>\n                                  <value name="VALUE">\n                                    <block type="math_number">\n                                      <title name="NUM">50</title>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="draw_pen">\n                                      <title name="PEN">penUp</title>\n                                      <next>\n                                        <block type="draw_move" inline="true">\n                                          <title name="DIR">moveBackward</title>\n                                          <value name="VALUE">\n                                            <block type="math_arithmetic" inline="true">\n                                              <title name="OP">MULTIPLY</title>\n                                              <value name="A">\n                                                <block type="math_number">\n                                                  <title name="NUM">7</title>\n                                                </block>\n                                              </value>\n                                              <value name="B">\n                                                <block type="variables_get">\n                                                  <title name="VAR">'),__line=1183,__append(escape(msg.depth())),__append("</title>\n                                                </block>\n                                              </value>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </next>\n                                    </block>\n                                  </next>\n                                </block>\n                              </next>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  "),__line=1207),__line=1208),__line=1209}return __output.join("")}catch(e){rethrow(e,'<%\n\nvar msg = require(\'./locale\');\n\n/**\n * Common code for creating procedures drawing different regular polygons.\n * options:\n *   title Title of procedure.\n *   modifiers String containing any optional keys and values for the initial\n *             <block> tag, such as \'x="20" y="20" editable="false"\'.\n *   sides Number of sides.\n *   length 0 if a length parameter should be used, a positive number otherwise\n */\nvar polygon = function(options) {\n-%>\n<block type="procedures_defnoreturn" <%- options.modifiers %>>\n    <mutation>\n      <% if (options.length === 0) { -%>\n        <arg name="<%= msg.lengthParameter() %>"></arg>\n      <% } -%>\n    </mutation>\n    <title name="NAME"><%= options.title %></title>\n    <statement name="STACK">\n      <block type="controls_repeat" <%- options.modifiers %>>\n        <title name="TIMES"><%= options.sides %></title>\n        <statement name="DO">\n          <block type="draw_move" <%- options.modifiers %>>\n            <value name="VALUE">\n              <% if (options.length === 0) { -%>\n                <block type="variables_get_length" <%- options.modifiers %>></block>\n              <% } else { -%>\n                <block type="math_number" <%- options.modifiers %>>\n                  <title name="NUM"><%= options.length %></title>\n                </block>\n              <% } -%>\n            </value>\n            <next>\n              <block type="draw_turn" <%- options.modifiers %>>\n                <value name="VALUE">\n                  <block type="math_number" <%- options.modifiers %>>\n                    <title name="NUM"><%= 360 / options.sides %></title>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>\n<% }; -%>\n\n<%\n/**\n * Spiral needs a named helper template for recursion.\n * @param i Loop control variable.\n */\nvar spiral = function(i) {\n-%>\n  <% if (i <= 60) { -%>\n    <block type="draw_move" <% if (i === 25) { %>x="300" y="100"<% } %> inline="false" editable="false" deletable="false" disabled="true">\n      <title name="DIR">moveForward</title>\n      <value name="VALUE">\n        <block type="math_number" editable="false" deletable="false" disabled="true">\n          <title name="NUM"><%= i %></title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_turn" inline="false" editable="false" deletable="false" disabled="true">\n          <title name="DIR">turnRight</title>\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false" disabled="true">\n              <title name="NUM">90</title>\n            </block>\n          </value>\n          <next>\n            <% spiral(i + 5) -%>\n          </next>\n        </block>\n      </next>\n    </block>\n  <% } %>\n<% }; -%>\n\n<%\n/**\n * Define the starting blocks for each page and locals.level.\n * These are referenced from turtle.js.\n */\n%>\n<% if (page === 1) { -%>\n  <% if (level === 1) { -%>\n    <block type="draw_move_by_constant" x="20" y="20"></block>\n  <% } else if (level === 2) { -%>\n    <block type="draw_colour" inline="true" x="20" y="20">\n      <value name="COLOUR">\n        <block type="colour_picker">\n          <title name="COLOUR">#ff0000</title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant"></block>\n      </next>\n    </block>\n  <% } else if (level === 4) { -%>\n    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES">3</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 3 || level === 5 || level === 6) { -%>\n    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES"><% if (level === 3) { %>4<% } else { %>3<% } %></title>\n    </block>\n  <% } else if (level === 7) { -%>\n    <block type="draw_turn_by_constant_restricted" x="20" y="20">\n      <title name="DIR">turnRight</title>\n      <title name="VALUE">90</title>\n    </block>\n  <% } else if (level === 8) { -%>\n    <block id="set-color" type="draw_colour" x="20" y="100">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant">\n          <title name="DIR">moveForward</title>\n          <title name="VALUE">100</title>\n          <next>\n            <block type="draw_move_by_constant">\n              <title name="DIR">moveBackward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">45</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 9) { -%>\n    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">??</title>\n      <statement name="DO">\n        <block type="draw_move" editable="false" deletable="false">\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <next>\n            <block type="draw_turn" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" editable="false" deletable="false">\n                  <title name="NUM">1</title>\n                </block>\n              </value>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 10) { -%>\n    <block type="draw_move_by_constant" x="20" y="20">\n      <title name="DIR">moveForward</title>\n      <title name="VALUE">100</title>\n    </block>\n  <% } -%>\n<% } else if (page === 2) { -%>\n  <% // No blocks are provided for levels 1 and 2. -%>\n  <% if (level === 3 || level === 5) { -%>\n    <% // Call "draw a square". -%>\n    <block type="draw_a_square" inline="true" x="20" y="20">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM"><% if (level === 3) { %>100<% } else { %>50<% } %></title>\n        </block>\n      </value>\n    </block>\n  <% } else if (level === 4) { -%>\n    <% // Three-square code. -%>\n    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block id="set-color" type="draw_colour" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" deletable="false">\n            </block>\n          </value>\n          <next>\n            <block type="draw_a_square" inline="true" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" deletable="false">\n                  <title name="NUM">???</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" editable="false" deletable="false">\n                  <value name="VALUE">\n                    <block type="math_number" deletable="false">\n                      <title name="NUM">???</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 6) { -%>\n    <block type="controls_for_counter" inline="true" x="20" y="20">\n    <title name="VAR"><%= msg.loopVariable() %></title>\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM"><% if (level === 6) { %>50<% } else { %>10<% } %></title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM"><% if (level === 6) { %>90<% } else { %>100<% } %></title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">10</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_a_square" inline="true">\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 7) { -%>\n    <% spiral(25) -%>\n  <% } else if (level === 7.5) { -%>\n    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">250</title>\n        </block>\n      </value>\n    </block>\n  <% } else if (level === 8 || level === 9) { -%>\n    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">150</title>\n        </block>\n      </value>\n    </block>\n  <% } else if (level === 10) { -%>\n    <block id="draw-width" type="draw_width_inline" x="158" y="67">\n      <title name="WIDTH">1</title>\n      <next>\n        <block type="controls_for_counter" inline="true">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <statement name="DO">\n            <block type="draw_move" inline="false">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get_counter"></block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="false">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">91</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  <% } -%>\n<% } else if (page === 3) { -%>\n  <% // Define "draw a square". -%>\n  <%- polygon({\n    title: msg.drawASquare(),\n    modifiers: (level === 8 ? \'\' : \'x="220" y="40"\') + \' editable="false" deletable="false"\',\n    sides: 4,\n    length: (level >= 6 ? 0 : 100)\n  }) -%>\n  <% if (level === 1) { -%>\n    <% // Define "draw a circle". -%>\n    <%- polygon({\n      title: msg.drawACircle(),\n      modifiers: \'x="220" y="250" editable="false" deletable="false"\',\n      sides: 360,\n      length: 1\n    }) -%>\n  <% } -%>\n  <% if (level === 2) { -%>\n    <block type="procedures_defnoreturn" x="220" y="250">\n      <title name="NAME"><%= msg.drawATriangle() %></title>\n    </block>\n  <% } else if (level >= 3) { -%>\n    <% //  Define "draw a triangle". -%>\n    <%- polygon({\n      title: msg.drawATriangle(),\n      modifiers: (level === 8 ? \'\' : \'x="220" y="250"\') + (level === 6 ? \'\' : \' editable="false" deletable="false"\'),\n      sides: 3,\n      length: (level >= 7 ? 0 : 100)\n    }) -%>\n  <% } -%>\n  <% if (level === 8 ) { -%>\n    <block type="procedures_callnoreturn" inline="false">\n      <mutation name="<%= msg.drawAHouse() %>">\n        <arg name="<%= msg.lengthParameter() %>"></arg>\n      </mutation>\n        <value name="ARG0">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n    </block>\n  <% } -%>\n  <% if (level === 7 || level === 8) { -%>\n    <% //  Define "draw a house". -%>\n    <block type="procedures_defnoreturn" <% if (level === 7) { -%>x="220" y="460"<% } -%>>\n      <mutation>\n        <% if (level === 8) { %><arg name="<%= msg.lengthParameter() %>"></arg><% } -%>\n      </mutation>\n      <title name="NAME"><%= msg.drawAHouse() %></title>\n      <statement name="STACK">\n        <block type="procedures_callnoreturn" inline="false">\n          <mutation name="<%= msg.drawASquare() %>">\n            <arg name="<%= msg.lengthParameter() %>"/>\n          </mutation>\n          <value name="ARG0">\n            <% if (level === 8) { -%>\n              <block type="variables_get">\n                <title name="VAR"><%= msg.lengthParameter() %></title>\n              </block>\n            <% } else { -%>\n              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            <% } -%>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <% if (level === 8) { -%>\n                  <block type="variables_get">\n                    <title name="VAR"><%= msg.lengthParameter() %></title>\n                  </block>\n                <% } else { -%>\n                  <block type="math_number">\n                    <title name="NUM">100</title>\n                  </block>\n                <% } -%>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">30</title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="procedures_callnoreturn" inline="false">\n                      <mutation name="<%= msg.drawATriangle() %>">\n                        <arg name="<%= msg.lengthParameter() %>"></arg>\n                      </mutation>\n                      <value name="ARG0">\n                        <% if (level === 8) { -%>\n                          <block type="variables_get">\n                            <title name="VAR"><%= msg.lengthParameter() %></title>\n                          </block>\n                        <% } else { -%>\n                          <block type="math_number">\n                            <title name="NUM">100</title>\n                          </block>\n                        <% } -%>\n                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } // End of region in which "draw a square" is defined. -%>\n<% } else if (page === 4) { -%>\n  <% if (level === 2) { -%>\n    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false" movable="true">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false" movable="true">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_colour" inline="true" x="70" y="230" editable="false" deletable="false" movable="true">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false" movable="true">\n                  <title name="TIMES">3</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">100</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">120</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 3) { -%>\n    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 4) { -%>\n    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">36</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 5) { -%>\n    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">36</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">???</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 7) { -%>\n    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">4</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">20</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">90</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  <% } else if (level === 8) { -%>\n    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">4</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">90</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 9) { -%>\n    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">4</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 10) { -%>\n    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant" editable="false" deletable="false">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">80</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 11) { -%>\n    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="controls_repeat">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } -%>\n<% } else if (page === 5) { -%>\n  <% if (level === 1) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">200</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.loopVariable() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">90</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 2) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.loopVariable() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">121</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 3) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.loopVariable() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">134</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 4) { -%>\n    <block type="controls_repeat" x="70" y="20">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="procedures_callnoreturn" inline="false">\n              <mutation name="<%= msg.drawACircle() %>">\n                <arg name="<%= msg.step() %>"></arg>\n              </mutation>\n              <value name="ARG0">\n                <block type="math_number">\n                  <title name="NUM">6</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">36</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="270">\n      <mutation>\n        <arg name="<%= msg.step() %>"></arg>\n      </mutation>\n      <title name="NAME"><%= msg.drawACircle() %></title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.step() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 5) { -%>\n    <block type="controls_for_counter" inline="true" x="70" y="20">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">8</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="procedures_callnoreturn" inline="false">\n                  <mutation name="<%= msg.drawACircle() %>">\n                    <arg name="<%= msg.step() %>"></arg>\n                  </mutation>\n                  <value name="ARG0">\n                    <block type="variables_get">\n                      <title name="VAR"><%= msg.loopVariable() %></title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="draw_turn" inline="true">\n                      <title name="DIR">turnRight</title>\n                      <value name="VALUE">\n                        <block type="math_number">\n                          <title name="NUM">36</title>\n                        </block>\n                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="320">\n      <mutation>\n        <arg name="<%= msg.step() %>"></arg>\n      </mutation>\n      <title name="NAME"><%= msg.drawACircle() %></title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.step() %></title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  <% } else if (level === 6) { -%>\n    <block type="procedures_callnoreturn" inline="false" x="70" y="20">\n      <mutation name="<%= msg.drawATree() %>">\n        <arg name="<%= msg.depth() %>"></arg>\n        <arg name="<%= msg.branches() %>"></arg>\n      </mutation>\n      <value name="ARG0">\n        <block type="math_number">\n          <title name="NUM">9</title>\n        </block>\n      </value>\n      <value name="ARG1">\n        <block type="math_number">\n          <title name="NUM">2</title>\n        </block>\n      </value>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="190">\n      <mutation>\n        <arg name="<%= msg.depth() %>"></arg>\n        <arg name="<%= msg.branches() %>"></arg>\n      </mutation>\n      <title name="NAME"><%= msg.drawATree() %></title>\n      <statement name="STACK">\n        <block type="controls_if" inline="false">\n          <value name="IF0">\n            <block type="logic_compare" inline="true">\n              <title name="OP">GT</title>\n              <value name="A">\n                <block type="variables_get">\n                  <title name="VAR"><%= msg.depth() %></title>\n                </block>\n              </value>\n              <value name="B">\n                <block type="math_number">\n                  <title name="NUM">0</title>\n                </block>\n              </value>\n            </block>\n          </value>\n          <statement name="DO0">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="draw_pen">\n                  <title name="PEN">penDown</title>\n                  <next>\n                    <block type="draw_move" inline="true">\n                      <title name="DIR">moveForward</title>\n                      <value name="VALUE">\n                        <block type="math_arithmetic" inline="true">\n                          <title name="OP">MULTIPLY</title>\n                          <value name="A">\n                            <block type="math_number">\n                              <title name="NUM">7</title>\n                            </block>\n                          </value>\n                          <value name="B">\n                            <block type="variables_get">\n                              <title name="VAR"><%= msg.depth() %></title>\n                            </block>\n                          </value>\n                        </block>\n                      </value>\n                      <next>\n                        <block type="draw_turn" inline="true">\n                          <title name="DIR">turnLeft</title>\n                          <value name="VALUE">\n                            <block type="math_number">\n                              <title name="NUM">130</title>\n                            </block>\n                          </value>\n                          <next>\n                            <block type="controls_repeat_ext" inline="true">\n                              <value name="TIMES">\n                                <block type="variables_get">\n                                  <title name="VAR"><%= msg.branches() %></title>\n                                </block>\n                              </value>\n                              <statement name="DO">\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnRight</title>\n                                  <value name="VALUE">\n                                    <block type="math_arithmetic" inline="true">\n                                      <title name="OP">DIVIDE</title>\n                                      <value name="A">\n                                        <block type="math_number">\n                                          <title name="NUM">180</title>\n                                        </block>\n                                      </value>\n                                      <value name="B">\n                                        <block type="variables_get">\n                                          <title name="VAR"><%= msg.branches() %></title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="procedures_callnoreturn" inline="false">\n                                      <mutation name="<%= msg.drawATree() %>">\n                                        <arg name="<%= msg.depth() %>"></arg>\n                                        <arg name="<%= msg.branches() %>"></arg>\n                                      </mutation>\n                                      <value name="ARG0">\n                                        <block type="math_arithmetic" inline="true">\n                                          <title name="OP">MINUS</title>\n                                          <value name="A">\n                                            <block type="variables_get">\n                                              <title name="VAR"><%= msg.depth() %></title>\n                                            </block>\n                                          </value>\n                                          <value name="B">\n                                            <block type="math_number">\n                                              <title name="NUM">1</title>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </value>\n                                      <value name="ARG1">\n                                        <block type="variables_get">\n                                          <title name="VAR"><%= msg.branches() %></title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </next>\n                                </block>\n                              </statement>\n                              <next>\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnLeft</title>\n                                  <value name="VALUE">\n                                    <block type="math_number">\n                                      <title name="NUM">50</title>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="draw_pen">\n                                      <title name="PEN">penUp</title>\n                                      <next>\n                                        <block type="draw_move" inline="true">\n                                          <title name="DIR">moveBackward</title>\n                                          <value name="VALUE">\n                                            <block type="math_arithmetic" inline="true">\n                                              <title name="OP">MULTIPLY</title>\n                                              <value name="A">\n                                                <block type="math_number">\n                                                  <title name="NUM">7</title>\n                                                </block>\n                                              </value>\n                                              <value name="B">\n                                                <block type="variables_get">\n                                                  <title name="VAR"><%= msg.depth() %></title>\n                                                </block>\n                                              </value>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </next>\n                                    </block>\n                                  </next>\n                                </block>\n                              </next>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  <% } -%>\n<% } -%>\n',"src/turtle/startBlocks.xml.ejs",__line)}}},3334:function(e,t,n){"use strict";function l(e){return{test:"draw_a_square",type:"draw_a_square",values:{VALUE:o.makeMathNumber(e)}}}function a(e){return{test:"draw_a_snowman",type:"draw_a_snowman",values:{VALUE:o.makeMathNumber(e)}}}var o=n(1756),i={test:"moveForward",type:"draw_move_by_constant"},r={test:function(e){return"draw_move_by_constant"===e.type},type:"draw_move_by_constant"},c=function(e){return{test:"moveForward",type:"draw_move_by_constant",titles:{VALUE:e}}},s={test:"moveBackward",type:"draw_move_by_constant",titles:{DIR:"moveBackward"}},m=function(e){return{test:"turnRight(",type:"draw_turn_by_constant_restricted",titles:{VALUE:e}}},u=function(e){return{test:"turnLeft(",type:"draw_turn_by_constant_restricted",titles:{VALUE:e}}},b=function(e){return{test:function(t){return"draw_turn_by_constant"===t.type&&("???"===e||Blockly.JavaScript.valueToCode(t,"VALUE",Blockly.JavaScript.ORDER_NONE)===e)},type:"draw_turn_by_constant",titles:{VALUE:e}}},_=function(e){return{test:function(e){return"draw_turn"===e.type&&"turnRight"===e.getTitleValue("DIR")},type:"draw_turn",titles:{DIR:"turnRight"},values:{VALUE:o.makeMathNumber(e)}}},p=function(e){return{test:function(e){return"draw_turn"===e.type&&"turnLeft"===e.getTitleValue("DIR")},type:"draw_turn",titles:{DIR:"turnLeft"},values:{VALUE:o.makeMathNumber(e)}}},d=function(e){return{test:function(e){return"draw_move"===e.type},type:"draw_move",values:{VALUE:o.makeMathNumber(e)}}},k=function(e){return{test:function(e){return"draw_turn_by_constant_restricted"===e.type},type:"draw_turn_by_constant_restricted",titles:{VALUE:e}}},v=function(){return{test:function(e){return"draw_turn"===e.type},type:"draw_turn",values:{VALUE:o.makeMathNumber("???")}}},h={test:"penColour('#",type:"draw_colour",values:{COLOUR:'<block type="colour_picker"></block>'}},y={test:"penColour(colour_random",type:"draw_colour",values:{COLOUR:'<block type="colour_random"></block>'}},g=function(e,t){return{test:function(n){return"procedures_defnoreturn"===n.type&&n.getTitleValue("NAME")===e&&n.parameterNames_&&n.parameterNames_.length&&n.parameterNames_[0]===t},type:"procedures_defnoreturn",titles:{NAME:e},extra:'<mutation><arg name="'+t+'"></arg></mutation>'}};e.exports={makeMathNumber:o.makeMathNumber,simpleBlock:o.simpleBlock,repeat:o.repeat,drawASquare:l,drawASnowman:a,MOVE_FORWARD_INLINE:i,MOVE_FORWARD_OR_BACKWARD_INLINE:r,moveForwardInline:c,MOVE_BACKWARD_INLINE:s,turnLeftRestricted:u,turnRightRestricted:m,turnRightByConstant:b,turnRight:_,turnLeft:p,move:d,drawTurnRestricted:k,drawTurn:v,SET_COLOUR_PICKER:h,SET_COLOUR_RANDOM:y,defineWithArg:g}}},[3321]);